<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content="ÊµãËØïÊìç‰ΩúÁ≥ªÁªüÂÜÖÂ≠òÊØíÂåñÂíåÊïÖÈöúÊ£ÄÊµãÁõ∏ÂÖ≥ÂäüËÉΩ">
<meta name="keywords" content="ÂÜÖÂ≠òÊïÖÈöúÊ£ÄÊµã„ÄÅÂÜÖÂ≠òÊØíÂåñ"><title>Êìç‰ΩúÁ≥ªÁªüÂ§ß‰Ωú‰∏öÔºöÂÜÖÂ≠òÊïÖÈöúÊ£ÄÊµãÂíåÂ§ÑÁêÜ</title>

<link rel='canonical' href='https://chenyuan1125.github.io/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%A4%A7%E4%BD%9C%E4%B8%9A%E5%86%85%E5%AD%98%E6%95%85%E9%9A%9C%E6%A3%80%E6%B5%8B%E5%92%8C%E5%A4%84%E7%90%86/'>

<link rel="stylesheet" href="/scss/style.min.1d7a77f66a9605dfbac1c7922a91290042c454a1166056d913fcbcea340dd583.css"><meta property='og:title' content="Êìç‰ΩúÁ≥ªÁªüÂ§ß‰Ωú‰∏öÔºöÂÜÖÂ≠òÊïÖÈöúÊ£ÄÊµãÂíåÂ§ÑÁêÜ">
<meta property='og:description' content="ÊµãËØïÊìç‰ΩúÁ≥ªÁªüÂÜÖÂ≠òÊØíÂåñÂíåÊïÖÈöúÊ£ÄÊµãÁõ∏ÂÖ≥ÂäüËÉΩ">
<meta property='og:url' content='https://chenyuan1125.github.io/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%A4%A7%E4%BD%9C%E4%B8%9A%E5%86%85%E5%AD%98%E6%95%85%E9%9A%9C%E6%A3%80%E6%B5%8B%E5%92%8C%E5%A4%84%E7%90%86/'>
<meta property='og:site_name' content='Ëæ∞Ëøú'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='os' /><meta property='article:published_time' content='2024-06-05T00:00:00&#43;00:00'/><meta property='article:modified_time' content='2024-12-15T21:28:19&#43;08:00'/><meta property='og:image' content='https://chenyuan1125.github.io/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%A4%A7%E4%BD%9C%E4%B8%9A%E5%86%85%E5%AD%98%E6%95%85%E9%9A%9C%E6%A3%80%E6%B5%8B%E5%92%8C%E5%A4%84%E7%90%86/1.jpg' />
<meta name="twitter:title" content="Êìç‰ΩúÁ≥ªÁªüÂ§ß‰Ωú‰∏öÔºöÂÜÖÂ≠òÊïÖÈöúÊ£ÄÊµãÂíåÂ§ÑÁêÜ">
<meta name="twitter:description" content="ÊµãËØïÊìç‰ΩúÁ≥ªÁªüÂÜÖÂ≠òÊØíÂåñÂíåÊïÖÈöúÊ£ÄÊµãÁõ∏ÂÖ≥ÂäüËÉΩ"><meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content='https://chenyuan1125.github.io/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%A4%A7%E4%BD%9C%E4%B8%9A%E5%86%85%E5%AD%98%E6%95%85%E9%9A%9C%E6%A3%80%E6%B5%8B%E5%92%8C%E5%A4%84%E7%90%86/1.jpg' />

<link rel="stylesheet" href="https://s1.hdslb.com/bfs/static/jinkela/long/font/regular.css" />
    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="ÂàáÊç¢ËèúÂçï">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/avatar_hu4999655723030452168.png" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">üç•</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">Ëæ∞Ëøú</a></h1>
            <h2 class="site-description">Â§©Â∞ÜÈôçÂ§ß‰ªª‰∫éÊñØ‰∫∫‰πü</h2>
        </div>
    </header><ol class="menu-social">
            
                <li>
                    <a 
                        href='/'
                        
                        title="È¶ñÈ°µ&amp;ÂÖ≥‰∫é"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://github.com/chenyuan1125'
                        target="_blank"
                        title="GitHub"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>



                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>‰∏ªÈ°µ</span>
            </a>
        </li>
        
        
        <li >
            <a href='/%E5%85%B3%E4%BA%8E/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>ÂÖ≥‰∫é</span>
            </a>
        </li>
        
        
        <li >
            <a href='/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>ÂΩíÊ°£</span>
            </a>
        </li>
        
        
        <li >
            <a href='/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>ÊêúÁ¥¢</span>
            </a>
        </li>
        
        
        <li >
            <a href='/%E9%93%BE%E6%8E%A5/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" />
  <path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" />
</svg>



                
                <span>ÈìæÊé•</span>
            </a>
        </li>
        
        <li class="menu-bottom-section">
            <ol class="menu">
                    
                        <li id="i18n-switch">  
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M4 5h7" />
  <path d="M9 3v2c0 4.418 -2.239 8 -5 8" />
  <path d="M5 9c-.003 2.144 2.952 3.908 6.7 4" />
  <path d="M12 20l4 -9l4 9" />
  <path d="M19.1 18h-6.2" />
</svg>



                            <select name="language" title="language" onchange="window.location.href = this.selectedOptions[0].value">
                                
                                    <option value="https://chenyuan1125.github.io/en/" >English</option>
                                
                                    <option value="https://chenyuan1125.github.io/" selected>‰∏≠Êñá</option>
                                
                            </select>
                        </li>
                    
                

                
                    <li id="dark-mode-toggle">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <span>ÊöóËâ≤Ê®°Âºè</span>
                    </li>
                
            </ol>
        </li>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">ÁõÆÂΩï</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#ÂÆûÈ™åÁéØÂ¢É">ÂÆûÈ™åÁéØÂ¢É</a></li>
    <li><a href="#hwpoison">hwpoison</a>
      <ol>
        <li><a href="#ÂÖ∑‰ΩìÂäüËÉΩÂíåÂ∑•‰ΩúÂéüÁêÜ">ÂÖ∑‰ΩìÂäüËÉΩÂíåÂ∑•‰ΩúÂéüÁêÜ</a></li>
        <li><a href="#hwpoison-ÁöÑÂ∑•‰ΩúÊµÅÁ®ã">hwpoison ÁöÑÂ∑•‰ΩúÊµÅÁ®ã</a></li>
        <li><a href="#‰ΩøÁî®Âú∫ÊôØ">‰ΩøÁî®Âú∫ÊôØ</a></li>
        <li><a href="#ÂÜÖÊ†∏ÂèÇÊï∞ÂíåÈÖçÁΩÆ">ÂÜÖÊ†∏ÂèÇÊï∞ÂíåÈÖçÁΩÆ</a></li>
        <li><a href="#Ê£ÄÊü•ÂÜÖÊ†∏Ê®°Âùó">Ê£ÄÊü•ÂÜÖÊ†∏Ê®°Âùó</a></li>
        <li><a href="#Ê£ÄÊü•-hwpoison-Â≠êÁõÆÂΩï">Ê£ÄÊü• hwpoison Â≠êÁõÆÂΩï</a></li>
        <li><a href="#Ê£ÄÊü•ÂÜÖÊ†∏Êó•Âøó">Ê£ÄÊü•ÂÜÖÊ†∏Êó•Âøó</a></li>
        <li><a href="#È™åËØÅÂÜÖÂ≠òÊØíÂåñÂäüËÉΩ">È™åËØÅÂÜÖÂ≠òÊØíÂåñÂäüËÉΩ</a>
          <ol>
            <li><a href="#ÂÜÖÂ≠òÈîôËØØÊ≥®ÂÖ•">ÂÜÖÂ≠òÈîôËØØÊ≥®ÂÖ•</a></li>
            <li><a href="#È™åËØÅÂÜÖÂ≠òÊØíÂåñÂäüËÉΩ-1">È™åËØÅÂÜÖÂ≠òÊØíÂåñÂäüËÉΩ</a></li>
            <li><a href="#ÊÅ¢Â§çÂÜÖÂ≠òÊØíÂåñÈ°µÈù¢">ÊÅ¢Â§çÂÜÖÂ≠òÊØíÂåñÈ°µÈù¢</a></li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#edac">EDAC</a>
      <ol>
        <li><a href="#edac-ÁöÑ‰∏ªË¶ÅÂäüËÉΩ">EDAC ÁöÑ‰∏ªË¶ÅÂäüËÉΩ</a></li>
        <li><a href="#edac-utilÁöÑ‰ΩøÁî®edac-utilsÂ∑≤ÁªèË¢´ÂºÉÁî®">EDAC-utilÁöÑ‰ΩøÁî®(EDAC-utilsÂ∑≤ÁªèË¢´ÂºÉÁî®)</a></li>
      </ol>
    </li>
    <li><a href="#rasdaemonÁõÆÂâç‰∏ªÊµÅÁöÑÊ£ÄÈîôÁ∫†ÈîôÂ∑•ÂÖ∑">Rasdaemon(ÁõÆÂâç‰∏ªÊµÅÁöÑÊ£ÄÈîôÁ∫†ÈîôÂ∑•ÂÖ∑)</a>
      <ol>
        <li><a href="#rasdaemon-ÁöÑ‰∏ªË¶ÅÂäüËÉΩ">Rasdaemon ÁöÑ‰∏ªË¶ÅÂäüËÉΩ</a></li>
        <li><a href="#rasdaemon-ÁöÑ‰ΩøÁî®ÈúÄË¶ÅedacÊîØÊåÅ">Rasdaemon ÁöÑ‰ΩøÁî®ÔºàÈúÄË¶ÅEDACÊîØÊåÅÔºâ</a></li>
        <li><a href="#Âà©Áî®rasdaemonÂÆûÁé∞ÈîôËØØÂÜÖÂ≠òÁöÑËΩØ‰∏ãÁ∫ø">Âà©Áî®RasdaemonÂÆûÁé∞ÈîôËØØÂÜÖÂ≠òÁöÑËΩØ‰∏ãÁ∫ø</a></li>
      </ol>
    </li>
    <li><a href="#ÈóÆÈ¢òÊ±áÊÄª">ÈóÆÈ¢òÊ±áÊÄªÔºö</a></li>
    <li><a href="#Áõ∏ÂÖ≥Áü•ËØÜ">Áõ∏ÂÖ≥Áü•ËØÜ</a>
      <ol>
        <li><a href="#error-correction-code-ecc"><strong>Error correction code (ECC)</strong></a></li>
        <li><a href="#edacÂíårasdaemonÁöÑÂÖ≥Á≥ª">EDACÂíåRasdaemonÁöÑÂÖ≥Á≥ª</a></li>
      </ol>
    </li>
    <li><a href="#ÂèÇËÄÉËµÑÊñô">ÂèÇËÄÉËµÑÊñôÔºö</a></li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="has-image main-article">
    <header class="article-header">
        <div class="article-image">
            <a href="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%A4%A7%E4%BD%9C%E4%B8%9A%E5%86%85%E5%AD%98%E6%95%85%E9%9A%9C%E6%A3%80%E6%B5%8B%E5%92%8C%E5%A4%84%E7%90%86/">
                <img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%A4%A7%E4%BD%9C%E4%B8%9A%E5%86%85%E5%AD%98%E6%95%85%E9%9A%9C%E6%A3%80%E6%B5%8B%E5%92%8C%E5%A4%84%E7%90%86/1_hu1503609835515304808.jpg"
                        srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%A4%A7%E4%BD%9C%E4%B8%9A%E5%86%85%E5%AD%98%E6%95%85%E9%9A%9C%E6%A3%80%E6%B5%8B%E5%92%8C%E5%A4%84%E7%90%86/1_hu1503609835515304808.jpg 800w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%A4%A7%E4%BD%9C%E4%B8%9A%E5%86%85%E5%AD%98%E6%95%85%E9%9A%9C%E6%A3%80%E6%B5%8B%E5%92%8C%E5%A4%84%E7%90%86/1_hu14339452462483989038.jpg 1600w"
                        width="800" 
                        height="450" 
                        loading="lazy"
                        alt="Featured image of post Êìç‰ΩúÁ≥ªÁªüÂ§ß‰Ωú‰∏öÔºöÂÜÖÂ≠òÊïÖÈöúÊ£ÄÊµãÂíåÂ§ÑÁêÜ" />
                
            </a>
        </div>
    

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/%E8%AF%BE%E7%A8%8B/" style="background-color: #D38152; color: #fff;">
                ËØæÁ®ã
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%A4%A7%E4%BD%9C%E4%B8%9A%E5%86%85%E5%AD%98%E6%95%85%E9%9A%9C%E6%A3%80%E6%B5%8B%E5%92%8C%E5%A4%84%E7%90%86/">Êìç‰ΩúÁ≥ªÁªüÂ§ß‰Ωú‰∏öÔºöÂÜÖÂ≠òÊïÖÈöúÊ£ÄÊµãÂíåÂ§ÑÁêÜ</a>
        </h2>
    
        
        <h3 class="article-subtitle">
            ÊµãËØïÊìç‰ΩúÁ≥ªÁªüÂÜÖÂ≠òÊØíÂåñÂíåÊïÖÈöúÊ£ÄÊµãÁõ∏ÂÖ≥ÂäüËÉΩ
        </h3>
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">2024-06-05</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    ÈòÖËØªÊó∂Èïø: 15 ÂàÜÈíü
                </time>
            </div>
        
        <div>
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye" viewBox="0 0 16 16">
  <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"/>
  <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z"/>
</svg>
                <time class="article-words">
                    7440Â≠ó
                </time>
        </div>
        

    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <h1 id="ÂÜÖÂ≠òÊïÖÈöúÊ£ÄÊµãÂíåÂ§ÑÁêÜ">ÂÜÖÂ≠òÊïÖÈöúÊ£ÄÊµãÂíåÂ§ÑÁêÜ
</h1><p>ÂÆûÈ™åÂÜÖÂÆπÔºö</p>
<ol>
<li>Ê®°ÊãüÂÜÖÂ≠òÁ°¨‰ª∂ÈîôËØØÔºåÂú®x86‰∏äÈ™åËØÅhwpoison‚ÄúÂÜÖÂ≠òÊØíÂåñ‚ÄùÂäüËÉΩÂíåEDACÔºàError Detection And  CorrectionÔºâÁöÑÊ£ÄÈîôÂíåÁ∫†ÈîôÂäüËÉΩ</li>
<li>‰ΩøÁî®RasdaemonÊçïËé∑ÈîôËØØ‰ΩçÁΩÆÔºåÂπ∂Âú®Êìç‰ΩúÁ≥ªÁªüÁ∫ßÂà´ÂÆåÊàêÈîôËØØÂÜÖÂ≠òÁöÑËΩØ‰∏ãÁ∫ø</li>
</ol>
<p>ËØÑÂàÜÊ†áÂáÜÔºàÊäòÁÆó‰∏∫ÁôæÂàÜÂà∂Ôºâ</p>
<ol>
<li>Ôºà20ÂàÜÔºâÂú®X86Âπ≥Âè∞‰∏äÊ®°ÊãüÂÜÖÂ≠òÈîôËØØ ÔºàÂÜÖÂ≠òÊïÖÈöú injectionÔºâ</li>
<li>Ôºà20ÂàÜÔºâÂú®X86Âπ≥Âè∞‰∏äÊçïËé∑ÂÜÖÂ≠òÈîôËØØÁöÑÊó•Âøó‰ø°ÊÅØ</li>
<li>Ôºà20ÂàÜÔºâÂú®X86Âπ≥Âè∞‰∏äÈ™åËØÅEDACÁöÑÊ£ÄÊµãÂíåÁ∫†ÈîôÂäüËÉΩ</li>
<li>Ôºà30ÂàÜÔºâÂú®X86Âπ≥Âè∞‰∏äÊ†πÊçÆÊçïËé∑ÁöÑÂÜÖÂ≠òÈîôËØØ‰ø°ÊÅØÔºåÂÆåÊàêÂØπÂ∫îÂÜÖÂ≠òÈ°µÊàñÂ§ö‰∏™‰∏¥ËøëÂÜÖÂ≠òÈ°µÁöÑËΩØ‰∏ãÁ∫ø</li>
<li>Ôºà10ÂàÜÔºâ‰π¶Èù¢&amp;Âè£Â§¥ÂÆûÈ™åÊä•Âëä</li>
</ol>
<p>Âπ≥Âè∞‰∏çÈôêÔºåÈÄâÊã©ÂÖ∂‰∏ÄÔºåË∞ÉÁ†îedacÂú®‰∏çÂêåÁ°¨‰ª∂Êö¥Èú≤ÁöÑ‰ø°ÊÅØÁ±ªÂà´ÂíåÈáèÁ∫ßÈÉΩ‰∏ç‰∏ÄÊ†∑ÔºàÊé•Âè£ÔºâÔºåÊâæÂá∫ÂÜÖÂ≠òÂá∫Èîô‰ΩçÁΩÆÔºåÂÅöÂÜÖÂ≠òÈöîÁ¶ªÔºåLinuxÊúâ‰∏ÄÂ•óÂÆåÊï¥ÁöÑÂÜÖÂ≠òÈöîÁ¶ªÊú∫Âà∂</p>
<h2 id="ÂÆûÈ™åÁéØÂ¢É">ÂÆûÈ™åÁéØÂ¢É
</h2><p>ÈááÁî®VMwareËôöÊãüÊú∫</p>
<p>Êìç‰ΩúÁ≥ªÁªüÔºöubuntu 20.04</p>
<p>ÂÜÖÊ†∏ÁâàÊú¨Ôºö5.15.0</p>
<h2 id="hwpoison">hwpoison
</h2><p><code>hwpoison</code> ÊòØ Linux ÂÜÖÊ†∏‰∏≠ÁöÑ‰∏ÄÁßçÊú∫Âà∂ÔºåÁî®‰∫éÂ§ÑÁêÜÁ°¨‰ª∂ÂÜÖÂ≠òÈîôËØØ„ÄÇÂÖ∂‰∏ªË¶ÅÂäüËÉΩÊòØÊ£ÄÊµãÂπ∂ÈöîÁ¶ªÊúâÁº∫Èô∑ÁöÑÂÜÖÂ≠òÈ°µÔºå‰ª•Èò≤Ê≠¢Ëøô‰∫õÁº∫Èô∑ÂØπÁ≥ªÁªüÁ®≥ÂÆöÊÄßÂíåÊï∞ÊçÆÂÆåÊï¥ÊÄß‰∫ßÁîüË¥üÈù¢ÂΩ±Âìç„ÄÇ</p>
<h3 id="ÂÖ∑‰ΩìÂäüËÉΩÂíåÂ∑•‰ΩúÂéüÁêÜ">ÂÖ∑‰ΩìÂäüËÉΩÂíåÂ∑•‰ΩúÂéüÁêÜ
</h3><ol>
<li><strong>Ê£ÄÊµãÁ°¨‰ª∂ÈîôËØØ</strong>Ôºö<code>hwpoison</code> ‰æùËµñ‰∫éÁ°¨‰ª∂ÈîôËØØÊ£ÄÊµãÊú∫Âà∂Ôºå‰æãÂ¶Ç ECCÔºàÈîôËØØÊ†°Ê≠£Á†ÅÔºâÂÜÖÂ≠òÊàñÁé∞‰ª£ CPU ÁöÑÂÜÖÂ≠òÊéßÂà∂Âô®„ÄÇËøô‰∫õÁ°¨‰ª∂ÁªÑ‰ª∂ËÉΩÂ§üÊ£ÄÊµãÂÜÖÂ≠òÈîôËØØÔºåÂ¶Ç‰ΩçÁøªËΩ¨Á≠â„ÄÇ</li>
<li><strong>Êä•ÂëäÂíåÊ†áËÆ∞ÈîôËØØÈ°µÈù¢</strong>ÔºöÂΩìÁ°¨‰ª∂Ê£ÄÊµãÂà∞ÂÜÖÂ≠òÈîôËØØÊó∂Ôºå‰ºöÂêëÊìç‰ΩúÁ≥ªÁªüÊä•Âëä„ÄÇLinux ÂÜÖÊ†∏‰∏≠ÁöÑ <code>hwpoison</code> Êú∫Âà∂‰ºöÊî∂Âà∞Ëøô‰∫õÊä•ÂëäÔºåÂπ∂Ê†áËÆ∞ÂèóÂΩ±ÂìçÁöÑÂÜÖÂ≠òÈ°µ‰∏∫‚ÄúÊçüÂùè‚ÄùÔºàpoisonedÔºâ„ÄÇ</li>
<li><strong>ÈöîÁ¶ªÊçüÂùèÈ°µÈù¢</strong>ÔºöÊ†áËÆ∞‰∏∫ÊçüÂùèÁöÑÂÜÖÂ≠òÈ°µÂ∞ÜË¢´ÈöîÁ¶ªÔºå‰∏çÂÜçË¢´Á≥ªÁªü‰ΩøÁî®„ÄÇÂØπ‰∫éÊ≠£Âú®‰ΩøÁî®ÁöÑÈ°µÈù¢ÔºåÂÜÖÊ†∏‰ºöÂ∞ùËØïÂ∞ÜÂÖ∂ÂÜÖÂÆπËøÅÁßªÂà∞ÂÅ•Â∫∑ÁöÑÂÜÖÂ≠òÂå∫ÂüüÔºåÂπ∂Á°Æ‰øùÂ∫îÁî®Á®ãÂ∫èËÉΩÂ§üÁªßÁª≠ËøêË°åËÄå‰∏ç‰ºöËØªÂèñÂà∞ÊçüÂùèÁöÑÊï∞ÊçÆ„ÄÇ</li>
<li><strong>ÈÄöÁü•Áî®Êà∑Á©∫Èó¥Â∫îÁî®</strong>ÔºöÂÜÖÊ†∏ËøòÂèØ‰ª•ÈÄöËøá‰ø°Âè∑Êú∫Âà∂ÔºàÂ¶Ç SIGBUSÔºâÈÄöÁü•Áî®Êà∑Á©∫Èó¥Â∫îÁî®Á®ãÂ∫èÔºåËÆ©ÂÆÉ‰ª¨ÂèØ‰ª•ÈááÂèñÁõ∏Â∫îÁöÑÊé™ÊñΩÔºåÂ¶Ç‰øùÂ≠òÂ∑•‰ΩúÁä∂ÊÄÅÊàñÂ∞ùËØïÊÅ¢Â§çÊï∞ÊçÆ„ÄÇ</li>
</ol>
<h3 id="hwpoison-ÁöÑÂ∑•‰ΩúÊµÅÁ®ã">hwpoison ÁöÑÂ∑•‰ΩúÊµÅÁ®ã
</h3><ol>
<li><strong>ÈîôËØØÊ£ÄÊµã</strong>ÔºöÂÜÖÂ≠òÊéßÂà∂Âô®ÔºàMemory ControllerÔºâÊ£ÄÊµãÂà∞ÂÜÖÂ≠òÈîôËØØÔºåÂπ∂ÁîüÊàêÈîôËØØÊä•Âëä„ÄÇ</li>
<li><strong>ÈîôËØØÊä•ÂëäÂ§ÑÁêÜ</strong>ÔºöÈîôËØØÊä•ÂëäÈÄöËøáÊú∫Âô®Ê£ÄÊü•ÂºÇÂ∏∏ÔºàMCEÔºåMachine Check ExceptionÔºâÊàñÂÖ∂‰ªñÁ°¨‰ª∂Êú∫Âà∂‰º†ÈÄíÁªôÊìç‰ΩúÁ≥ªÁªüÂÜÖÊ†∏„ÄÇ</li>
<li>Ê†áËÆ∞ÊúâÊØíÈ°µ: hwpoisonÊ®°ÂùóÊé•Êî∂Âà∞ÈîôËØØÊä•ÂëäÂêéÔºåÂ∞ÜÂá∫ÈîôÁöÑÂÜÖÂ≠òÈ°µÊ†áËÆ∞‰∏∫ÊúâÊØíÔºåÂÖ∑‰ΩìÊìç‰ΩúÂåÖÊã¨Ôºö
<ul>
<li>‰ªéÈ°µË°®‰∏≠ÁßªÈô§ËØ•È°µ„ÄÇ</li>
<li>Â∞ÜËØ•È°µÊ∑ªÂä†Âà∞ÂÜÖÂ≠òÊïÖÈöúÈöîÁ¶ªÂàóË°®‰∏≠„ÄÇ</li>
</ul>
</li>
<li><strong>ÂÜÖÂ≠òÈöîÁ¶ª</strong>ÔºöÊúâÊØíÈ°µ‰∏çÂÜçË¢´ÂàÜÈÖçÁªô‰ªª‰ΩïËøõÁ®ãÊàñÁî®‰∫éÂÜÖÊ†∏ÂàÜÈÖçÔºåÁ°Æ‰øùÁ≥ªÁªü‰∏çÂÜç‰ΩøÁî®Âá∫ÈîôÁöÑÂÜÖÂ≠ò„ÄÇ</li>
<li><strong>ÈîôËØØËÆ∞ÂΩï‰∏éÈÄöÁü•</strong>ÔºöÈîôËØØ‰ø°ÊÅØË¢´ËÆ∞ÂΩïÂú®Á≥ªÁªüÊó•Âøó‰∏≠ÔºåÂπ∂ÈÄöÁü•Áî®Êà∑ÊÄÅÂ∫îÁî®Á®ãÂ∫èËøõË°åËøõ‰∏ÄÊ≠•Â§ÑÁêÜ„ÄÇ</li>
</ol>
<h3 id="‰ΩøÁî®Âú∫ÊôØ">‰ΩøÁî®Âú∫ÊôØ
</h3><p><code>hwpoison</code> ‰∏ªË¶ÅÁî®‰∫é‰ª•‰∏ãÂá†ÁßçÂú∫ÊôØÔºö</p>
<ul>
<li><strong>ÊúçÂä°Âô®ÁéØÂ¢É</strong>ÔºöÂú®È´òÂèØÈù†ÊÄßË¶ÅÊ±ÇÁöÑÊúçÂä°Âô®‰∏≠Ôºå<code>hwpoison</code> ÂèØ‰ª•Â∏ÆÂä©Ê£ÄÊµãÂíåÈöîÁ¶ªÂÜÖÂ≠òÁ°¨‰ª∂ÈîôËØØÔºåÁ°Æ‰øùÊúçÂä°Âô®ÁöÑÈïøÊúüÁ®≥ÂÆöËøêË°å„ÄÇ</li>
<li><strong>Êï∞ÊçÆ‰∏≠ÂøÉ</strong>ÔºöÂØπ‰∫éÊï∞ÊçÆ‰∏≠ÂøÉ‰∏≠ÁöÑÂ§ßËßÑÊ®°ÊúçÂä°Âô®ÈõÜÁæ§Ôºå<code>hwpoison</code> ÊúâÂä©‰∫éÁª¥Êä§Êï¥‰∏™Á≥ªÁªüÁöÑÁ®≥ÂÆöÊÄßÂíåÊï∞ÊçÆÂÆåÊï¥ÊÄß„ÄÇ</li>
<li><strong>ÂÖ≥ÈîÆ‰ªªÂä°Â∫îÁî®</strong>ÔºöÂú®‰∏Ä‰∫õÂØπÁ®≥ÂÆöÊÄßË¶ÅÊ±ÇÊûÅÈ´òÁöÑÂÖ≥ÈîÆ‰ªªÂä°Â∫îÁî®‰∏≠ÔºåÂ¶ÇÈáëËûçÁ≥ªÁªü„ÄÅËà™Á©∫ÊéßÂà∂Á≥ªÁªüÁ≠âÔºå<code>hwpoison</code> ËÉΩÊèê‰æõÈ¢ùÂ§ñÁöÑ‰∏ÄÂ±Ç‰øùÊä§„ÄÇ</li>
</ul>
<h3 id="ÂÜÖÊ†∏ÂèÇÊï∞ÂíåÈÖçÁΩÆ">ÂÜÖÊ†∏ÂèÇÊï∞ÂíåÈÖçÁΩÆ
</h3><p>Âú®ÂÆûÈôÖÂ∫îÁî®‰∏≠ÔºåÂèØ‰ª•ÈÄöËøá‰ª•‰∏ãÂëΩ‰ª§ÂíåÂèÇÊï∞Êù•ÈÖçÁΩÆÂíå‰ΩøÁî® <code>hwpoison</code>Ôºö</p>
<h3 id="Ê£ÄÊü•ÂÜÖÊ†∏Ê®°Âùó">Ê£ÄÊü•ÂÜÖÊ†∏Ê®°Âùó
</h3><p>Êüê‰∫õÂäüËÉΩÂèØËÉΩÈúÄË¶ÅÂä†ËΩΩÁâπÂÆöÁöÑÂÜÖÊ†∏Ê®°Âùó„ÄÇ‰Ω†ÂèØ‰ª•Â∞ùËØïÂä†ËΩΩÁõ∏ÂÖ≥Ê®°ÂùóÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">sudo modprobe hwpoison-inject
</span></span></code></pre></td></tr></table>
</div>
</div><p>Ê£ÄÊü•Ê®°ÂùóÊòØÂê¶Âä†ËΩΩÊàêÂäüÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">lsmod | grep hwpoison
</span></span></code></pre></td></tr></table>
</div>
</div><p>‰Ω†ÁöÑÂÜÖÊ†∏ÈÖçÁΩÆÂ∑≤ÁªèÂêØÁî®‰∫Ü <code>CONFIG_MEMORY_FAILURE</code> Âíå <code>CONFIG_DEBUG_FS</code>„ÄÇ‰ΩÜÊòØÔºåÂ¶ÇÊûú‰Ω†‰ªçÁÑ∂Êâæ‰∏çÂà∞ <code>/sys/kernel/debug/hwpoison/corrupt-pfn</code>ÔºåËØ∑ÊåâÁÖß‰ª•‰∏ãÊ≠•È™§Ê£ÄÊü•ÂíåËß£ÂÜ≥ÈóÆÈ¢ò„ÄÇ</p>
<h3 id="Ê£ÄÊü•-hwpoison-Â≠êÁõÆÂΩï">Ê£ÄÊü• hwpoison Â≠êÁõÆÂΩï
</h3><p>ÊåÇËΩΩ DebugFS ÂêéÔºåÊ£ÄÊü•ÊòØÂê¶Â≠òÂú® <code>hwpoison</code> Â≠êÁõÆÂΩïÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">ls /sys/kernel/debug/hwpoison
</span></span></code></pre></td></tr></table>
</div>
</div><p>‰Ω†Â∫îËØ•ÁúãÂà∞Á±ª‰ºº <code>corrupt-pfn</code> ÁöÑÊñá‰ª∂„ÄÇÂ¶ÇÊûúÊ≤°ÊúâÔºåÂèØËÉΩÊòØÂÜÖÊ†∏ÁâàÊú¨ÊàñÈÖçÁΩÆÈóÆÈ¢ò„ÄÇ</p>
<h3 id="Ê£ÄÊü•ÂÜÖÊ†∏Êó•Âøó">Ê£ÄÊü•ÂÜÖÊ†∏Êó•Âøó
</h3><p>Â¶ÇÊûú <code>hwpoison</code> ÁõÆÂΩï‰ªçÁÑ∂‰∏çÂ≠òÂú®ÔºåÊ£ÄÊü•ÂÜÖÊ†∏Êó•ÂøóÔºåÁúãÁúãÊòØÂê¶ÊúâÁõ∏ÂÖ≥‰ø°ÊÅØÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">dmesg | grep hwpoison
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="È™åËØÅÂÜÖÂ≠òÊØíÂåñÂäüËÉΩ">È™åËØÅÂÜÖÂ≠òÊØíÂåñÂäüËÉΩ
</h3><p>‰∏ÄËà¨Êù•ËØ¥ÔºåÁî®Êà∑ÊÄÅÁ®ãÂ∫èÂØºËá¥ÁöÑÈ°µÈîôËØØÔºàÂ¶ÇËÆøÈóÆÊó†ÊïàÂÜÖÂ≠òÂú∞ÂùÄÔºâ‰ºöËß¶Âèë SIGSEGV ‰ø°Âè∑ÔºåËÄå‰∏çÊòØÁõ¥Êé•ÂØºËá¥ÂÜÖÊ†∏ÂØπËØ•È°µÈù¢ËøõË°åÂÜÖÂ≠òÊØíÂåñ„ÄÇÂÜÖÂ≠òÊØíÂåñÈÄöÂ∏∏ÊòØ‰∏∫‰∫ÜÂ§ÑÁêÜÁ°¨‰ª∂ÂÜÖÂ≠òÈîôËØØÔºåËÄå‰∏çÊòØÊôÆÈÄöÁöÑÈ°µÈîôËØØ„ÄÇ</p>
<p>‰∏∫‰∫ÜÈ™åËØÅÂÜÖÂ≠òÊØíÂåñÂäüËÉΩÔºåËøòÊòØÈúÄË¶ÅÈÄöËøáÁâπÂÆöÊñπÊ≥ïÂà∂ÈÄ†ÂèØ‰ª•Ë¢´ÂÜÖÊ†∏ËØÜÂà´Âπ∂Â§ÑÁêÜÁöÑÂÜÖÂ≠òÈîôËØØÔºå‰ª•‰∏ãÊòØÂà∂‰ΩúÂÜÖÂ≠òÈîôËØØÁöÑ‰∏Ä‰∫õÊñπÊ≥ï„ÄÇ</p>
<h4 id="ÂÜÖÂ≠òÈîôËØØÊ≥®ÂÖ•">ÂÜÖÂ≠òÈîôËØØÊ≥®ÂÖ•
</h4><ul>
<li>
<p>1„ÄÅ‰ΩøÁî®ÂÜÖÊ†∏Ê®°ÂùóÂº∫Âà∂Âà∂ÈÄ†ÂÜÖÂ≠òÈîôËØØ„ÄÇÁºñÂÜô‰∏Ä‰∏™ÂÜÖÊ†∏Ê®°ÂùóÔºåÂº∫Âà∂Â∞ÜÊüê‰∏™Áâ©ÁêÜÈ°µÈù¢Ê†áËÆ∞‰∏∫Á°¨‰ª∂ÊØíÂåñ„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;linux/module.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;linux/kernel.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;linux/init.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;linux/mm.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="k">static</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">pfn</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="nf">module_param</span><span class="p">(</span><span class="n">pfn</span><span class="p">,</span> <span class="n">ulong</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nf">MODULE_PARM_DESC</span><span class="p">(</span><span class="n">pfn</span><span class="p">,</span> <span class="s">&#34;Page Frame Number&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">static</span> <span class="kt">int</span> <span class="n">__init</span> <span class="nf">hwpoison_test_init</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nf">pr_info</span><span class="p">(</span><span class="s">&#34;Injecting hwpoison to PFN: %lx</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">pfn</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="nf">memory_failure</span><span class="p">(</span><span class="n">pfn</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">        <span class="nf">pr_err</span><span class="p">(</span><span class="s">&#34;Failed to inject hwpoison to PFN: %lx</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">pfn</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">else</span>
</span></span><span class="line"><span class="cl">        <span class="nf">pr_info</span><span class="p">(</span><span class="s">&#34;Successfully injected hwpoison to PFN: %lx</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">pfn</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">static</span> <span class="kt">void</span> <span class="n">__exit</span> <span class="nf">hwpoison_test_exit</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nf">pr_info</span><span class="p">(</span><span class="s">&#34;hwpoison_test module exited</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nf">module_init</span><span class="p">(</span><span class="n">hwpoison_test_init</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nf">module_exit</span><span class="p">(</span><span class="n">hwpoison_test_exit</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nf">MODULE_LICENSE</span><span class="p">(</span><span class="s">&#34;GPL&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nf">MODULE_DESCRIPTION</span><span class="p">(</span><span class="s">&#34;HWPoison Test Module&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nf">MODULE_AUTHOR</span><span class="p">(</span><span class="s">&#34;Lijun&#34;</span><span class="p">);</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ol>
<li>
<p>‰øùÂ≠ò‰ª£Á†Å‰∏∫ <code>hwpoison_test.c</code>„ÄÇ</p>
</li>
<li>
<p>ÂàõÂª∫‰∏Ä‰∏™ <code>Makefile</code>Ôºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-makefile" data-lang="makefile"><span class="line"><span class="cl"><span class="nv">obj-m</span> <span class="o">+=</span> hwpoison_test.o
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nf">all</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">	make -C /lib/modules/<span class="k">$(</span>shell uname -r<span class="k">)</span>/build <span class="nv">M</span><span class="o">=</span><span class="k">$(</span>PWD<span class="k">)</span> modules
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nf">clean</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">	make -C /lib/modules/<span class="k">$(</span>shell uname -r<span class="k">)</span>/build <span class="nv">M</span><span class="o">=</span><span class="k">$(</span>PWD<span class="k">)</span> clean
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>ÁºñËØëÂÜÖÊ†∏Ê®°ÂùóÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">make
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>Âä†ËΩΩÂÜÖÊ†∏Ê®°ÂùóÔºåÂπ∂‰º†ÈÄí‰∏Ä‰∏™ÊúâÊïàÁöÑ PFNÔºàPage Frame NumberÔºâ„ÄÇÂèØ‰ª•ÈÄöËøá‰πãÂâçËé∑ÂèñÁâ©ÁêÜÈ°µÊ°ÜÂè∑ÁöÑÊñπÊ≥ïËé∑ÂèñÊúâÊïàÁöÑ PFNÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">sudo insmod hwpoison_test.ko pfn=0x12345
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ol>
</li>
<li>
<p>2„ÄÅ<strong>‰ΩøÁî® <code>madvise</code> Ëß¶ÂèëÂÜÖÂ≠òÈîôËØØ</strong></p>
<p>Âú®Áî®Êà∑Á©∫Èó¥Ôºå‰ΩøÁî® <code>madvise</code> Á≥ªÁªüË∞ÉÁî®ÂèØ‰ª•ËØ∑Ê±ÇÂÜÖÊ†∏ÂØπÂÜÖÂ≠òÈ°µÊâßË°åÁâπÂÆöÁöÑÊìç‰ΩúÔºå‰æãÂ¶ÇÊØíÂåñÂÜÖÂ≠òÈ°µ„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;stdlib.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;sys/mman.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;unistd.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;fcntl.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;string.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;errno.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="cp">#define PAGE_SIZE 4096
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">trigger_hwpoison</span><span class="p">(</span><span class="kt">void</span> <span class="o">*</span><span class="n">addr</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="nf">madvise</span><span class="p">(</span><span class="n">addr</span><span class="p">,</span> <span class="n">PAGE_SIZE</span><span class="p">,</span> <span class="n">MADV_HWPOISON</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nf">perror</span><span class="p">(</span><span class="s">&#34;madvise&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nf">printf</span><span class="p">(</span><span class="s">&#34;Memory poisoning triggered at address %p</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">addr</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">void</span> <span class="o">*</span><span class="n">addr</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">addr</span> <span class="o">=</span> <span class="nf">mmap</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="n">PAGE_SIZE</span><span class="p">,</span> <span class="n">PROT_READ</span> <span class="o">|</span> <span class="n">PROT_WRITE</span><span class="p">,</span> <span class="n">MAP_PRIVATE</span> <span class="o">|</span> <span class="n">MAP_ANONYMOUS</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">addr</span> <span class="o">==</span> <span class="n">MAP_FAILED</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nf">perror</span><span class="p">(</span><span class="s">&#34;mmap&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nf">printf</span><span class="p">(</span><span class="s">&#34;Allocated memory at address %p</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">addr</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// Fill the allocated memory with some data
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">memset</span><span class="p">(</span><span class="n">addr</span><span class="p">,</span> <span class="mh">0xAA</span><span class="p">,</span> <span class="n">PAGE_SIZE</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// Trigger memory poisoning
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">trigger_hwpoison</span><span class="p">(</span><span class="n">addr</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// Access the poisoned memory to cause a fault
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">printf</span><span class="p">(</span><span class="s">&#34;Accessing poisoned memory at address %p</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">addr</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="o">*</span><span class="p">((</span><span class="kt">char</span> <span class="o">*</span><span class="p">)</span><span class="n">addr</span><span class="p">)</span> <span class="o">=</span> <span class="mh">0xBB</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// Cleanup
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">munmap</span><span class="p">(</span><span class="n">addr</span><span class="p">,</span> <span class="n">PAGE_SIZE</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>3„ÄÅ<strong>ÁºñÂÜôÂíåËøêË°å C Á®ãÂ∫èËé∑ÂèñÁâ©ÁêÜÈ°µÊ°ÜÂè∑ÔºåÂÜç‰ΩøÁî®ÂëΩ‰ª§Ê≥®ÂÖ•ÂÜÖÂ≠òÈîôËØØ</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;stdlib.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;fcntl.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;unistd.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;stdint.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="cp">#define PAGE_SHIFT 12
</span></span></span><span class="line"><span class="cl"><span class="cp">#define PAGE_SIZE (1UL &lt;&lt; PAGE_SHIFT)
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">virt_addr</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">page_addr</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">page_offset</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="o">*</span><span class="n">ptr</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">fd</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">uint64_t</span> <span class="n">page_entry</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">ptr</span> <span class="o">=</span> <span class="nf">malloc</span><span class="p">(</span><span class="n">PAGE_SIZE</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">ptr</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nf">perror</span><span class="p">(</span><span class="s">&#34;malloc&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="n">virt_addr</span> <span class="o">=</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span><span class="p">)</span><span class="n">ptr</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">fd</span> <span class="o">=</span> <span class="nf">open</span><span class="p">(</span><span class="s">&#34;/proc/self/pagemap&#34;</span><span class="p">,</span> <span class="n">O_RDONLY</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">fd</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nf">perror</span><span class="p">(</span><span class="s">&#34;open&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="nf">lseek</span><span class="p">(</span><span class="n">fd</span><span class="p">,</span> <span class="p">(</span><span class="n">virt_addr</span> <span class="o">&gt;&gt;</span> <span class="n">PAGE_SHIFT</span><span class="p">)</span> <span class="o">*</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">uint64_t</span><span class="p">),</span> <span class="n">SEEK_SET</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nf">perror</span><span class="p">(</span><span class="s">&#34;lseek&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="nf">read</span><span class="p">(</span><span class="n">fd</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">page_entry</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">uint64_t</span><span class="p">))</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nf">perror</span><span class="p">(</span><span class="s">&#34;read&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nf">close</span><span class="p">(</span><span class="n">fd</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="n">page_entry</span> <span class="o">&amp;</span> <span class="p">(</span><span class="mi">1ULL</span> <span class="o">&lt;&lt;</span> <span class="mi">63</span><span class="p">)))</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nf">fprintf</span><span class="p">(</span><span class="n">stderr</span><span class="p">,</span> <span class="s">&#34;Page not present</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">page_addr</span> <span class="o">=</span> <span class="p">(</span><span class="n">page_entry</span> <span class="o">&amp;</span> <span class="p">((</span><span class="mi">1ULL</span> <span class="o">&lt;&lt;</span> <span class="mi">55</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">))</span> <span class="o">&lt;&lt;</span> <span class="n">PAGE_SHIFT</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">page_offset</span> <span class="o">=</span> <span class="n">virt_addr</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">PAGE_SIZE</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">pfn</span> <span class="o">=</span> <span class="n">page_addr</span> <span class="o">&gt;&gt;</span> <span class="n">PAGE_SHIFT</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nf">printf</span><span class="p">(</span><span class="s">&#34;Virtual address: 0x%lx</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">virt_addr</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="nf">printf</span><span class="p">(</span><span class="s">&#34;Physical page frame number: 0x%lx</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">pfn</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nf">free</span><span class="p">(</span><span class="n">ptr</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ÁºñËØëÂπ∂ËøêË°åËØ•Á®ãÂ∫èÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">gcc -o get_pfn get_pfn.c
</span></span><span class="line"><span class="cl">./get_pfn
</span></span></code></pre></td></tr></table>
</div>
</div><p>ËØ•Á®ãÂ∫èÂ∞ÜËæìÂá∫ËôöÊãüÂú∞ÂùÄÂíåÁâ©ÁêÜÈ°µÊ°ÜÂè∑:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">Virtual address: 0x55556e3ac2a0
</span></span><span class="line"><span class="cl">Physical page frame number: 0x0
</span></span></code></pre></td></tr></table>
</div>
</div><p>‰ΩøÁî®Ëé∑ÂèñÂà∞ÁöÑÁâ©ÁêÜÈ°µÊ°ÜÂè∑Ê≥®ÂÖ•ÂÜÖÂ≠òÈîôËØØÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">hacker@ubuntu:~/Desktop$ <span class="nb">echo</span> 0x0 <span class="p">|</span> sudo tee /sys/kernel/debug/hwpoison/corrupt-pfn
</span></span><span class="line"><span class="cl">0x0
</span></span><span class="line"><span class="cl">tee: /sys/kernel/debug/hwpoison/corrupt-pfn: Memory page has hardware error
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
<p>4„ÄÅÁõ¥Êé•‰ΩøÁî®ÂëΩ‰ª§Ê≥®ÂÖ•</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># Â∞ÜÁâ©ÁêÜÂú∞ÂùÄËΩ¨Êç¢‰∏∫È°µÂ∏ßÂè∑ (PFN)</span>
</span></span><span class="line"><span class="cl"><span class="nv">physical_address</span><span class="o">=</span>0x12345678
</span></span><span class="line"><span class="cl"><span class="nv">pfn</span><span class="o">=</span><span class="k">$((</span><span class="nv">$physical_address</span> &gt;&gt; <span class="m">12</span><span class="k">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Ê≥®ÂÖ• hwpoison</span>
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> <span class="nv">$pfn</span> <span class="p">|</span> sudo tee /sys/kernel/debug/hwpoison/corrupt-pfn
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="È™åËØÅÂÜÖÂ≠òÊØíÂåñÂäüËÉΩ-1">È™åËØÅÂÜÖÂ≠òÊØíÂåñÂäüËÉΩ
</h4><p>Ê£ÄÊü•ÂÜÖÊ†∏Êó•Âøó‰ª•Á°ÆËÆ§ÂÜÖÂ≠òÈîôËØØÂ∑≤Ë¢´Ê£ÄÊµãÂíåÂ§ÑÁêÜÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span> 2481.576496<span class="o">]</span> Injecting memory failure at pfn 0x0
</span></span><span class="line"><span class="cl"><span class="o">[</span> 2481.576516<span class="o">]</span> Memory failure: 0x0: already hardware poisoned
</span></span><span class="line"><span class="cl"><span class="o">[</span> 2392.437856<span class="o">]</span> Injecting memory failure at pfn 0x12345
</span></span><span class="line"><span class="cl"><span class="o">[</span> 2392.439018<span class="o">]</span> Memory failure: 0x12345: recovery action <span class="k">for</span> clean LRU page: Recovered
</span></span></code></pre></td></tr></table>
</div>
</div><p>ÊÄªÁöÑÊù•ËØ¥Ôºå<code>hwpoison</code> ÊòØ‰∏Ä‰∏™Áî®‰∫éÊèêÈ´òÁ≥ªÁªüÁ®≥ÂÆöÊÄßÂíåÂèØÈù†ÊÄßÁöÑÂÖ≥ÈîÆÊú∫Âà∂ÔºåÁâπÂà´ÊòØÂú®ÈúÄË¶ÅÂ§ÑÁêÜÁ°¨‰ª∂ÂÜÖÂ≠òÈîôËØØÁöÑÁéØÂ¢É‰∏≠„ÄÇ</p>
<h4 id="ÊÅ¢Â§çÂÜÖÂ≠òÊØíÂåñÈ°µÈù¢">ÊÅ¢Â§çÂÜÖÂ≠òÊØíÂåñÈ°µÈù¢
</h4><p>1„ÄÅ‰ΩøÁî® echoÂÜôÂÖ• /sys/kernel/debug/hwpoison/unpoison-pfn</p>
<ul>
<li>Âú®PFNÁöÑSoftware-unpoisonÈ°µÈù¢ÂØπÂ∫îÂà∞Ëøô‰∏™Êñá‰ª∂„ÄÇËøôÊ†∑Ôºå‰∏Ä‰∏™È°µÈù¢ÂèØ‰ª•ÂÜçÊ¨°Ë¢´Â§çÁî®„ÄÇËøôÂè™ÂØπLinuxÊ≥®ÂÖ•ÁöÑÊïÖÈöúËµ∑‰ΩúÁî®ÔºåÂØπÁúüÊ≠£ÁöÑÂÜÖÂ≠òÊïÖÈöú‰∏çËµ∑‰ΩúÁî®„ÄÇ</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">echo</span> 0x12345 &gt; /sys/kernel/mm/page_poison/unpoison-pfn
</span></span></code></pre></td></tr></table>
</div>
</div><p>2„ÄÅ‰ΩøÁî®madviceÁ≥ªÁªüË∞ÉÁî®</p>
<ul>
<li>madvise Á≥ªÁªüË∞ÉÁî®ÂèØÁî®‰∫éÈÄöÁü•ÂÜÖÊ†∏Êüê‰∫õÂÜÖÂ≠òÈ°µÈù¢ÁöÑÊúüÊúõ‰ΩøÁî®ÊñπÂºèÔºå‰ΩÜ‰∏çËÉΩÁõ¥Êé•Ëß£Èô§ hwpoison Áä∂ÊÄÅ„ÄÇÁÑ∂ËÄåÔºåÁªìÂêà madvise ÂíåÈáçÂêØÁ≥ªÁªüÔºåÂèØ‰ª•Èó¥Êé•Â∏ÆÂä©ÊÅ¢Â§çÂÜÖÂ≠òÁä∂ÊÄÅ„ÄÇ</li>
</ul>
<p>3„ÄÅÊàñËÄÖÈÄöËøáÂÜÖÊ†∏Ê®°ÂùóÊÅ¢Â§çÊØíÂåñÁöÑÂÜÖÂ≠òÈ°µ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;linux/module.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;linux/kernel.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;linux/mm.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;linux/page-flags.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="k">static</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">pfn</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="nf">module_param</span><span class="p">(</span><span class="n">pfn</span><span class="p">,</span> <span class="n">ulong</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nf">MODULE_PARM_DESC</span><span class="p">(</span><span class="n">pfn</span><span class="p">,</span> <span class="s">&#34;Page Frame Number to be unpoisoned&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">static</span> <span class="kt">int</span> <span class="n">__init</span> <span class="nf">unpoison_page_init</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">struct</span> <span class="n">page</span> <span class="o">*</span><span class="n">page</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">pfn</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nf">pr_err</span><span class="p">(</span><span class="s">&#34;Invalid PFN</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="o">-</span><span class="n">EINVAL</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">page</span> <span class="o">=</span> <span class="nf">pfn_to_page</span><span class="p">(</span><span class="n">pfn</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">page</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nf">pr_err</span><span class="p">(</span><span class="s">&#34;Invalid page</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="o">-</span><span class="n">EINVAL</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nf">pr_info</span><span class="p">(</span><span class="s">&#34;Unpoisoning page at PFN: 0x%lx</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">pfn</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="nf">ClearPageHWPoison</span><span class="p">(</span><span class="n">page</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">static</span> <span class="kt">void</span> <span class="n">__exit</span> <span class="nf">unpoison_page_exit</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nf">pr_info</span><span class="p">(</span><span class="s">&#34;unpoison_page module exited</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nf">module_init</span><span class="p">(</span><span class="n">unpoison_page_init</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nf">module_exit</span><span class="p">(</span><span class="n">unpoison_page_exit</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nf">MODULE_LICENSE</span><span class="p">(</span><span class="s">&#34;GPL&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nf">MODULE_AUTHOR</span><span class="p">(</span><span class="s">&#34;Your Name&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nf">MODULE_DESCRIPTION</span><span class="p">(</span><span class="s">&#34;A simple module to unpoison a memory page&#34;</span><span class="p">);</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ÁºñËØëÂíåÂä†ËΩΩÂÜÖÊ†∏Ê®°Âùó</p>
<ol>
<li>
<p>‰øùÂ≠ò‰ª£Á†Å‰∏∫ <code>unpoison_page.c</code>„ÄÇ</p>
</li>
<li>
<p>ÂàõÂª∫‰∏Ä‰∏™ <code>Makefile</code>Ôºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-ma" data-lang="ma"><span class="line"><span class="cl"><span class="n">obj</span><span class="o">-</span><span class="n">m</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="nv">unpoison_page</span><span class="err">.</span><span class="n">o</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">all</span><span class="err">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="n">make</span><span class="w"> </span><span class="o">-</span><span class="n">C</span><span class="w"> </span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">modules</span><span class="o">/</span><span class="err">$</span><span class="p">(</span><span class="n">shell</span><span class="w"> </span><span class="n">uname</span><span class="w"> </span><span class="o">-</span><span class="n">r</span><span class="p">)</span><span class="o">/</span><span class="n">build</span><span class="w"> </span><span class="n">M</span><span class="o">=</span><span class="err">$</span><span class="p">(</span><span class="n">PWD</span><span class="p">)</span><span class="w"> </span><span class="n">modules</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">clean</span><span class="err">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="n">make</span><span class="w"> </span><span class="o">-</span><span class="n">C</span><span class="w"> </span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">modules</span><span class="o">/</span><span class="err">$</span><span class="p">(</span><span class="n">shell</span><span class="w"> </span><span class="n">uname</span><span class="w"> </span><span class="o">-</span><span class="n">r</span><span class="p">)</span><span class="o">/</span><span class="n">build</span><span class="w"> </span><span class="n">M</span><span class="o">=</span><span class="err">$</span><span class="p">(</span><span class="n">PWD</span><span class="p">)</span><span class="w"> </span><span class="n">clean</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>ÁºñËØëÂÜÖÊ†∏Ê®°Âùó</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">make
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>Âä†ËΩΩÂÜÖÊ†∏Ê®°ÂùóÔºåÂπ∂‰º†ÈÄíÈúÄË¶ÅÊÅ¢Â§çÁöÑ PFNÔºà‰ªé‰πãÂâçËé∑ÂèñÁöÑ PFNÔºâÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo insmod unpoison_page.ko <span class="nv">pfn</span><span class="o">=</span>0x12345
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ol>
<p><strong>È™åËØÅÂÜÖÊ†∏Êó•Âøó</strong></p>
<p>ÈÄöËøá <code>dmesg</code> ÂëΩ‰ª§Êü•ÁúãÂÜÖÊ†∏Êó•ÂøóÔºåÁ°ÆËÆ§ÂÜÖÂ≠òÈ°µÊòØÂê¶Â∑≤ÊÅ¢Â§çÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">dmesg <span class="p">|</span> grep poison
</span></span><span class="line"><span class="cl"><span class="o">[</span> 1234.567890<span class="o">]</span> Unpoisoning page at PFN: 0x12345
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="edac">EDAC
</h2><p>EDAC (Error Detection and Correction) ÊòØ‰∏ÄÁßçÁ°¨‰ª∂ÂíåËΩØ‰ª∂ÁªìÂêàÁöÑÊäÄÊúØÔºåÁî®‰∫éÊ£ÄÊµãÂíåÁ∫†Ê≠£ËÆ°ÁÆóÊú∫ÂÜÖÂ≠ò‰∏≠ÁöÑÈîôËØØ„ÄÇÂÆÉÁâπÂà´ÈÄÇÁî®‰∫éÊúçÂä°Âô®ÂíåÂÖ∂‰ªñÈ´òÂèØÈù†ÊÄßËÆ°ÁÆóÁéØÂ¢É„ÄÇEDAC ÈÄöËøáÊ£ÄÊµãÂÜÖÂ≠ò‰∏≠ÁöÑÈîôËØØÂπ∂Âú®ÂèØËÉΩÁöÑÊÉÖÂÜµ‰∏ãËá™Âä®Á∫†Ê≠£Ëøô‰∫õÈîôËØØÔºåÂ∏ÆÂä©Á°Æ‰øùÁ≥ªÁªüÁ®≥ÂÆöÊÄßÂíåÊï∞ÊçÆÂÆåÊï¥ÊÄß„ÄÇ</p>
<h3 id="edac-ÁöÑ‰∏ªË¶ÅÂäüËÉΩ">EDAC ÁöÑ‰∏ªË¶ÅÂäüËÉΩ
</h3><ol>
<li><strong>ÈîôËØØÊ£ÄÊµãÔºö</strong>
<ul>
<li>EDAC ËÉΩÂ§üÊ£ÄÊµãÂÜÖÂ≠ò‰∏≠ÁöÑÈîôËØØÔºå‰æãÂ¶ÇÂçïÊØîÁâπÈîôËØØÔºàSingle-Bit ErrorsÔºåSBEÔºâÂíåÂ§öÊØîÁâπÈîôËØØÔºàMulti-Bit ErrorsÔºåMBEÔºâ„ÄÇ</li>
</ul>
</li>
<li><strong>ÈîôËØØÁ∫†Ê≠£Ôºö</strong>
<ul>
<li>ÂØπ‰∫éÂçïÊØîÁâπÈîôËØØÔºåEDAC ÈÄöÂ∏∏ËÉΩÂ§üËá™Âä®Á∫†Ê≠£„ÄÇ
<ul>
<li>ÂØπ‰∫éÂ§öÊØîÁâπÈîôËØØÔºåEDAC ‰ºöËÆ∞ÂΩïÈîôËØØÂπ∂ÂèëÂá∫Ë≠¶ÂëäÔºåÊèêÈÜíÁÆ°ÁêÜÂëòÈááÂèñËøõ‰∏ÄÊ≠•Ë°åÂä®„ÄÇ</li>
</ul>
</li>
</ul>
</li>
<li><strong>ÈîôËØØÊä•ÂëäÔºö</strong>
<ul>
<li>EDAC ‰ºöËÆ∞ÂΩïÂπ∂Êä•ÂëäÊ£ÄÊµãÂà∞ÁöÑÂÜÖÂ≠òÈîôËØØÔºåÊèê‰æõËØ¶ÁªÜÁöÑÈîôËØØ‰ø°ÊÅØÔºåÂåÖÊã¨ÈîôËØØÁ±ªÂûã„ÄÅÂèëÁîüÊó∂Èó¥Âíå‰ΩçÁΩÆÁ≠â„ÄÇ</li>
</ul>
</li>
<li><strong>Á°¨‰ª∂ÊîØÊåÅ</strong>Ôºö‰æùËµñ‰∫éÁ°¨‰ª∂ÔºåÈÄöÂ∏∏ÈúÄË¶ÅÊîØÊåÅECCÔºàError Correction CodeÔºâÂÜÖÂ≠òÊàñÂÖ∂‰ªñÁ±ªÂûãÁöÑÈîôËØØÊ£ÄÊµãÂíåÁ∫†Ê≠£Êú∫Âà∂„ÄÇ</li>
</ol>
<h3 id="edac-utilÁöÑ‰ΩøÁî®edac-utilsÂ∑≤ÁªèË¢´ÂºÉÁî®">EDAC-utilÁöÑ‰ΩøÁî®(EDAC-utilsÂ∑≤ÁªèË¢´ÂºÉÁî®)
</h3><p>1„ÄÅ<strong>Á°ÆËÆ§Á≥ªÁªüÊîØÊåÅ EDACÔºö</strong></p>
<ul>
<li>Á°Æ‰øù‰Ω†ÁöÑÁ°¨‰ª∂ÂíåÊìç‰ΩúÁ≥ªÁªüÊîØÊåÅ EDAC„ÄÇÁé∞‰ª£ÁöÑÊúçÂä°Âô®Âíå‰∏Ä‰∫õÈ´òÁ´ØÂ∑•‰ΩúÁ´ôÈÄöÂ∏∏ÊîØÊåÅ ECCÔºàError-Correcting CodeÔºâÂÜÖÂ≠òÔºåËøôÊòØ EDAC ÂäüËÉΩÁöÑÂü∫Á°ÄÔºå‰∏ãÈù¢Ê£ÄÊµãÁîµËÑëÊòØÂê¶ÊîØÊåÅECCÂÜÖÂ≠ò</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">root@ecs-c7f5:~# dmidecode -t memory
</span></span><span class="line"><span class="cl"><span class="c1"># dmidecode 3.4</span>
</span></span><span class="line"><span class="cl">Getting SMBIOS data from sysfs.
</span></span><span class="line"><span class="cl">SMBIOS 2.8 present.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Handle 0x1000, DMI <span class="nb">type</span> 16, <span class="m">23</span> bytes
</span></span><span class="line"><span class="cl">Physical Memory Array
</span></span><span class="line"><span class="cl">        Location: Other
</span></span><span class="line"><span class="cl">        Use: System Memory
</span></span><span class="line"><span class="cl">        Error Correction Type: Multi-bit ECC
</span></span><span class="line"><span class="cl">        Maximum Capacity: <span class="m">16</span> GB
</span></span><span class="line"><span class="cl">        Error Information Handle: Not Provided
</span></span><span class="line"><span class="cl">        Number Of Devices: <span class="m">1</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>Êü•ËØ¢Á≥ªÁªüÊâÄÊîØÊåÅÁöÑEDACÊ®°ÂùóÔºåÈÄâÊã©‰∏éÊú∫Âô®Á°¨‰ª∂ÊâÄÈÄÇÈÖçÁöÑEDACÊ®°ÂùóÂÆâË£Ö„ÄÇ</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">hacker@ubuntu:~/Desktop$ ls /lib/modules/<span class="o">{</span>ÂØπÂ∫îÁöÑÂÜÖÊ†∏ÁâàÊú¨<span class="o">}</span>/kernel/drivers/edac/
</span></span><span class="line"><span class="cl">amd64_edac.ko    i3000_edac.ko  i5400_edac.ko    ie31200_edac.ko  skx_edac.ko
</span></span><span class="line"><span class="cl">e752x_edac.ko    i3200_edac.ko  i7300_edac.ko    igen6_edac.ko    x38_edac.ko
</span></span><span class="line"><span class="cl">edac_mce_amd.ko  i5000_edac.ko  i7core_edac.ko   pnd2_edac.ko
</span></span><span class="line"><span class="cl">i10nm_edac.ko    i5100_edac.ko  i82975x_edac.ko  sb_edac.ko
</span></span></code></pre></td></tr></table>
</div>
</div><p>2„ÄÅ<strong>Âä†ËΩΩEDACÊ®°Âùó</strong>Ôºö</p>
<p>Âú®Áé∞‰ª£ÁöÑLinuxÂÜÖÊ†∏‰∏≠ÔºåEDACÊ®°ÂùóÈÄöÂ∏∏Â∑≤ÁªèÂåÖÂê´Âú®ÂÜÖÊ†∏‰∏≠„ÄÇ‰Ω†ÂèØ‰ª•ÈÄöËøá‰ª•‰∏ãÂëΩ‰ª§Âä†ËΩΩÁõ∏Â∫îÁöÑÊ®°ÂùóÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo modprobe i7core_edac
</span></span></code></pre></td></tr></table>
</div>
</div><p>3„ÄÅ<strong>ÂÆâË£ÖÂíåÈÖçÁΩÆ EDAC Â∑•ÂÖ∑Ôºö</strong></p>
<ul>
<li>
<p>Âú® Linux Á≥ªÁªü‰∏äÔºåÂèØ‰ª•‰ΩøÁî® <code>edac-utils</code> Êù•ÁÆ°ÁêÜÂíåÁõëÊéß EDAC„ÄÇÂÆâË£ÖÊñπÊ≥ïÂ¶Ç‰∏ã</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo apt-get install edac-utils
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
<p>4„ÄÅ<strong>Ê£ÄÊü• EDAC Áä∂ÊÄÅÔºö</strong></p>
<ul>
<li>
<p>‰ΩøÁî®‰ª•‰∏ãÂëΩ‰ª§Ê£ÄÊü• EDAC Áä∂ÊÄÅÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo edac-util --status
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
<p>5„ÄÅ<strong>Ê®°ÊãüÂÜÖÂ≠òÈîôËØØÔºö</strong></p>
<ul>
<li>Âú®Ê≤°ÊúâÂÆûÈôÖÁ°¨‰ª∂ÊîØÊåÅÁöÑÊÉÖÂÜµ‰∏ãÔºåÊ®°ÊãüÂÜÖÂ≠òÈîôËØØÊòØÊØîËæÉÂõ∞ÈöæÁöÑ„ÄÇ‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÔºåÂèØ‰ª•ÈÄöËøá‰øÆÊîπÂÜÖÊ†∏ÂèÇÊï∞Êàñ‰ΩøÁî®‰∏Ä‰∫õ‰∏ìÈó®ÁöÑÂ∑•ÂÖ∑Êù•Ê®°ÊãüÂÜÖÂ≠òÈîôËØØ„ÄÇ‰ª•‰∏ãÊòØ‰∏Ä‰∫õÂèØËÉΩÁöÑÊñπÊ≥ïÔºö</li>
<li><strong>ÈÄöËøáÂÜÖÊ†∏Ë∞ÉËØïÂäüËÉΩÔºö</strong>
<ul>
<li>Êúâ‰∫õÁ≥ªÁªüÂÖÅËÆ∏ÈÄöËøáÂÜÖÊ†∏Ë∞ÉËØïÂäüËÉΩÊù•ÊèíÂÖ•ÂÜÖÂ≠òÈîôËØØ„ÄÇËøôÈÄöÂ∏∏ÈúÄË¶ÅÁºñÂÜôÂÜÖÊ†∏Ê®°ÂùóÊàñËÄÖ‰ΩøÁî®‰∏Ä‰∫õÂÜÖÊ†∏Ë∞ÉËØïÂ∑•ÂÖ∑„ÄÇ</li>
</ul>
</li>
<li><strong>‰ΩøÁî®ÂÜÖÂ≠òÊµãËØïÂ∑•ÂÖ∑Ôºö</strong>
<ul>
<li>ÂÉè <code>memtest86+</code> ËøôÊ†∑ÁöÑÂ∑•ÂÖ∑ÂèØ‰ª•Áî®‰∫éÊµãËØïÂÜÖÂ≠òÊòØÂê¶Â≠òÂú®ÈîôËØØÔºå‰ΩÜÂÆÉ‰ª¨ÈÄöÂ∏∏‰∏ç‰ºö‰∏ªÂä®Ê®°ÊãüÈîôËØØ„ÄÇ</li>
</ul>
</li>
</ul>
<p>6„ÄÅ<strong>È™åËØÅ EDAC ÁöÑÂ∑•‰ΩúÔºö</strong></p>
<ul>
<li>
<p>Âú®Ê®°ÊãüÂÜÖÂ≠òÈîôËØØÂêéÔºåÂèØ‰ª•ÈÄöËøá <code>dmesg</code> ÂëΩ‰ª§Êü•ÁúãÂÜÖÊ†∏Êó•ÂøóÔºåÁ°ÆËÆ§ EDAC ÊòØÂê¶Ê£ÄÊµãÂà∞ÈîôËØØÂπ∂ËøõË°åÁ∫†Ê≠£„ÄÇ‰æãÂ¶ÇÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">dmesg <span class="p">|</span> grep -i edac
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
<h2 id="rasdaemonÁõÆÂâç‰∏ªÊµÅÁöÑÊ£ÄÈîôÁ∫†ÈîôÂ∑•ÂÖ∑">Rasdaemon(ÁõÆÂâç‰∏ªÊµÅÁöÑÊ£ÄÈîôÁ∫†ÈîôÂ∑•ÂÖ∑)
</h2><p><code>Rasdaemon</code> (Reliability, Availability, and Serviceability daemon) ÊòØ‰∏Ä‰∏™ÂºÄÊ∫êÁöÑÁ≥ªÁªüÊúçÂä°ÔºåÁî®‰∫éÊçïËé∑ÂíåÊä•ÂëäÁ°¨‰ª∂ÈîôËØØ‰∫ã‰ª∂ÔºåÁâπÂà´ÊòØ‰∏éÂÜÖÂ≠ò„ÄÅÂ§ÑÁêÜÂô®ÂíåÂÖ∂‰ªñÂÖ≥ÈîÆÁ°¨‰ª∂Áõ∏ÂÖ≥ÁöÑÈîôËØØ„ÄÇÂÆÉÊîØÊåÅ Linux Á≥ªÁªüÔºåËÉΩÂ§üÁõëÊéßÂíåËÆ∞ÂΩïÁ°¨‰ª∂ÈîôËØØÔºåÊèê‰æõËØ¶ÁªÜÁöÑÈîôËØØ‰ø°ÊÅØÔºåÊúâÂä©‰∫éÁ≥ªÁªüÁÆ°ÁêÜÂëòËøõË°åËØäÊñ≠ÂíåÊïÖÈöúÊéíÈô§„ÄÇRasdaemon Âà©Áî®Á°¨‰ª∂Êèê‰æõÁöÑÈîôËØØÊä•ÂëäÊú∫Âà∂ÔºåÈÄöËøáÂÜÖÊ†∏‰∫ã‰ª∂ËøΩË∏™ (kernel trace) Á≥ªÁªüÊî∂ÈõÜÁ°¨‰ª∂ÈîôËØØ‰∫ã‰ª∂„ÄÇ</p>
<h3 id="rasdaemon-ÁöÑ‰∏ªË¶ÅÂäüËÉΩ">Rasdaemon ÁöÑ‰∏ªË¶ÅÂäüËÉΩ
</h3><ol>
<li><strong>ÈîôËØØÁõëÊéßÂíåÊä•Âëä</strong>Ôºö
<ul>
<li>ÊçïËé∑ÂíåËÆ∞ÂΩïÂÜÖÂ≠òÈîôËØØ„ÄÅÂ§ÑÁêÜÂô®ÈîôËØØ„ÄÅPCIe ÈîôËØØÁ≠â„ÄÇ</li>
<li>Êèê‰æõËØ¶ÁªÜÁöÑÈîôËØØ‰ø°ÊÅØÔºåÂåÖÊã¨ÈîôËØØÁ±ªÂûã„ÄÅÂèëÁîüÊó∂Èó¥„ÄÅ‰ΩçÁΩÆÁ≠â„ÄÇ</li>
</ul>
</li>
<li><strong>‰∏é EDAC ÈõÜÊàê</strong>Ôºö
<ul>
<li>ÂÖºÂÆπ EDAC (Error Detection And Correction) Ê°ÜÊû∂ÔºåËÉΩÂ§üÊçïËé∑ÂÜÖÂ≠òÊéßÂà∂Âô®ÈîôËØØ„ÄÇ</li>
</ul>
</li>
<li><strong>Êï∞ÊçÆÊåÅ‰πÖÊÄß</strong>Ôºö
<ul>
<li>Â∞ÜÈîôËØØ‰∫ã‰ª∂ÊåÅ‰πÖÂåñÂ≠òÂÇ®Âà∞Êï∞ÊçÆÂ∫ì‰∏≠Ôºå‰æø‰∫éÂêéÁª≠ÂàÜÊûê„ÄÇ</li>
</ul>
</li>
<li><strong>Áî®Êà∑Á©∫Èó¥Â∑•ÂÖ∑</strong>Ôºö
<ul>
<li>Êèê‰æõÁî®Êà∑Á©∫Èó¥Â∑•ÂÖ∑ÔºåÁî®‰∫éÊü•ËØ¢ÂíåÂàÜÊûêÈîôËØØÊï∞ÊçÆ„ÄÇ</li>
</ul>
</li>
</ol>
<h3 id="rasdaemon-ÁöÑ‰ΩøÁî®ÈúÄË¶ÅedacÊîØÊåÅ">Rasdaemon ÁöÑ‰ΩøÁî®ÔºàÈúÄË¶ÅEDACÊîØÊåÅÔºâ
</h3><p><strong>1„ÄÅÂÆâË£Örasdaemon</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">sudo apt install rasdaemon
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>2„ÄÅÈÖçÁΩÆrasdaemon</strong></p>
<ul>
<li>ÂêØÂä®rasdaemon</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">root@ecs-c7f5:~# rasdaemon --enable
</span></span><span class="line"><span class="cl">rasdaemon: ras:mc_event event enabled
</span></span><span class="line"><span class="cl">rasdaemon: ras:aer_event event enabled
</span></span><span class="line"><span class="cl">rasdaemon: mce:mce_record event enabled
</span></span><span class="line"><span class="cl">rasdaemon: ras:extlog_mem_event event enabled
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>ÈúÄË¶ÅÂêØÂä®‰∏§‰∏™systemdÊúçÂä°: <code>ras-mc-ctl.service</code> Âíå <code>rasdaemon.service</code> :</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">root@ecs-c7f5:~# systemctl <span class="nb">enable</span> ras-mc-ctl.service
</span></span><span class="line"><span class="cl">root@ecs-c7f5:~# systemctl <span class="nb">enable</span> rasdaemon.service
</span></span><span class="line"><span class="cl">root@ecs-c7f5:~# systemctl start ras-mc-ctl.service
</span></span><span class="line"><span class="cl">root@ecs-c7f5:~# systemctl start rasdaemon.service
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Synchronizing state of rasdaemon.service with SysV service script with /lib/systemd/systemd-sysv-install.
</span></span><span class="line"><span class="cl">Executing: /lib/systemd/systemd-sysv-install <span class="nb">enable</span> rasdaemon
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>3„ÄÅÊ£ÄÊü• <code>rasdaemon</code> Áä∂ÊÄÅ</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">systemctl status rasdaemon
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">systemctl status ras-mc-ctl
</span></span></code></pre></td></tr></table>
</div>
</div><p>ËæìÂá∫‰ø°ÊÅØ:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="c1"># rasdaemon ÊúçÂä°Áä∂ÊÄÅ</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="err">‚óè</span> <span class="n">rasdaemon</span><span class="o">.</span><span class="n">service</span> <span class="o">-</span> <span class="n">RAS</span> <span class="n">daemon</span> <span class="n">to</span> <span class="nb">log</span> <span class="n">the</span> <span class="n">RAS</span> <span class="n">events</span>
</span></span><span class="line"><span class="cl">   <span class="n">Loaded</span><span class="p">:</span> <span class="n">loaded</span> <span class="p">(</span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">systemd</span><span class="o">/</span><span class="n">system</span><span class="o">/</span><span class="n">rasdaemon</span><span class="o">.</span><span class="n">service</span><span class="p">;</span> <span class="n">enabled</span><span class="p">;</span> <span class="n">vendor</span> <span class="n">preset</span><span class="p">:</span> <span class="n">disabled</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="n">Active</span><span class="p">:</span> <span class="n">active</span> <span class="p">(</span><span class="n">running</span><span class="p">)</span> <span class="n">since</span> <span class="n">Tue</span> <span class="mi">2023</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">28</span> <span class="mi">11</span><span class="p">:</span><span class="mi">22</span><span class="p">:</span><span class="mi">16</span> <span class="n">CST</span><span class="p">;</span> <span class="mi">5</span><span class="n">s</span> <span class="n">ago</span>
</span></span><span class="line"><span class="cl">  <span class="n">Process</span><span class="p">:</span> <span class="mi">181029</span> <span class="n">ExecStartPost</span><span class="o">=/</span><span class="n">usr</span><span class="o">/</span><span class="n">sbin</span><span class="o">/</span><span class="n">rasdaemon</span> <span class="o">--</span><span class="n">enable</span> <span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">exited</span><span class="p">,</span> <span class="n">status</span><span class="o">=</span><span class="mi">0</span><span class="o">/</span><span class="n">SUCCESS</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"> <span class="n">Main</span> <span class="n">PID</span><span class="p">:</span> <span class="mi">181014</span> <span class="p">(</span><span class="n">rasdaemon</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="n">Memory</span><span class="p">:</span> <span class="mf">8.0</span><span class="n">M</span>
</span></span><span class="line"><span class="cl">   <span class="n">CGroup</span><span class="p">:</span> <span class="o">/</span><span class="n">system</span><span class="o">.</span><span class="n">slice</span><span class="o">/</span><span class="n">rasdaemon</span><span class="o">.</span><span class="n">service</span>
</span></span><span class="line"><span class="cl">           <span class="err">‚îî‚îÄ</span><span class="mi">181014</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">sbin</span><span class="o">/</span><span class="n">rasdaemon</span> <span class="o">-</span><span class="n">f</span> <span class="o">-</span><span class="n">r</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Nov</span> <span class="mi">28</span> <span class="mi">11</span><span class="p">:</span><span class="mi">22</span><span class="p">:</span><span class="mi">16</span> <span class="n">alipay</span><span class="o">-</span><span class="n">srm011233163091</span><span class="o">.</span><span class="n">et15</span> <span class="n">rasdaemon</span><span class="p">[</span><span class="mi">181014</span><span class="p">]:</span> <span class="n">Enabled</span> <span class="n">event</span> <span class="n">ras</span><span class="p">:</span><span class="n">aer_event</span>
</span></span><span class="line"><span class="cl"><span class="n">Nov</span> <span class="mi">28</span> <span class="mi">11</span><span class="p">:</span><span class="mi">22</span><span class="p">:</span><span class="mi">16</span> <span class="n">alipay</span><span class="o">-</span><span class="n">srm011233163091</span><span class="o">.</span><span class="n">et15</span> <span class="n">rasdaemon</span><span class="p">[</span><span class="mi">181014</span><span class="p">]:</span> <span class="n">Family</span> <span class="mi">6</span> <span class="n">Model</span> <span class="mi">55</span> <span class="n">CPU</span><span class="p">:</span> <span class="n">only</span> <span class="n">decoding</span> <span class="n">architectural</span> <span class="n">errors</span>
</span></span><span class="line"><span class="cl"><span class="n">Nov</span> <span class="mi">28</span> <span class="mi">11</span><span class="p">:</span><span class="mi">22</span><span class="p">:</span><span class="mi">16</span> <span class="n">alipay</span><span class="o">-</span><span class="n">srm011233163091</span><span class="o">.</span><span class="n">et15</span> <span class="n">rasdaemon</span><span class="p">[</span><span class="mi">181014</span><span class="p">]:</span> <span class="n">mce</span><span class="p">:</span><span class="n">mce_record</span> <span class="n">event</span> <span class="n">enabled</span>
</span></span><span class="line"><span class="cl"><span class="n">Nov</span> <span class="mi">28</span> <span class="mi">11</span><span class="p">:</span><span class="mi">22</span><span class="p">:</span><span class="mi">16</span> <span class="n">alipay</span><span class="o">-</span><span class="n">srm011233163091</span><span class="o">.</span><span class="n">et15</span> <span class="n">rasdaemon</span><span class="p">[</span><span class="mi">181014</span><span class="p">]:</span> <span class="n">Enabled</span> <span class="n">event</span> <span class="n">mce</span><span class="p">:</span><span class="n">mce_record</span>
</span></span><span class="line"><span class="cl"><span class="n">Nov</span> <span class="mi">28</span> <span class="mi">11</span><span class="p">:</span><span class="mi">22</span><span class="p">:</span><span class="mi">16</span> <span class="n">alipay</span><span class="o">-</span><span class="n">srm011233163091</span><span class="o">.</span><span class="n">et15</span> <span class="n">rasdaemon</span><span class="p">[</span><span class="mi">181014</span><span class="p">]:</span> <span class="n">ras</span><span class="p">:</span><span class="n">extlog_mem_event</span> <span class="n">event</span> <span class="n">enabled</span>
</span></span><span class="line"><span class="cl"><span class="n">Nov</span> <span class="mi">28</span> <span class="mi">11</span><span class="p">:</span><span class="mi">22</span><span class="p">:</span><span class="mi">16</span> <span class="n">alipay</span><span class="o">-</span><span class="n">srm011233163091</span><span class="o">.</span><span class="n">et15</span> <span class="n">rasdaemon</span><span class="p">[</span><span class="mi">181014</span><span class="p">]:</span> <span class="n">Enabled</span> <span class="n">event</span> <span class="n">ras</span><span class="p">:</span><span class="n">extlog_mem_event</span>
</span></span><span class="line"><span class="cl"><span class="n">Nov</span> <span class="mi">28</span> <span class="mi">11</span><span class="p">:</span><span class="mi">22</span><span class="p">:</span><span class="mi">16</span> <span class="n">alipay</span><span class="o">-</span><span class="n">srm011233163091</span><span class="o">.</span><span class="n">et15</span> <span class="n">rasdaemon</span><span class="p">[</span><span class="mi">181014</span><span class="p">]:</span> <span class="n">rasdaemon</span><span class="p">:</span> <span class="n">Recording</span> <span class="n">mc_event</span> <span class="n">events</span>
</span></span><span class="line"><span class="cl"><span class="n">Nov</span> <span class="mi">28</span> <span class="mi">11</span><span class="p">:</span><span class="mi">22</span><span class="p">:</span><span class="mi">16</span> <span class="n">alipay</span><span class="o">-</span><span class="n">srm011233163091</span><span class="o">.</span><span class="n">et15</span> <span class="n">rasdaemon</span><span class="p">[</span><span class="mi">181014</span><span class="p">]:</span> <span class="n">rasdaemon</span><span class="p">:</span> <span class="n">Recording</span> <span class="n">aer_event</span> <span class="n">events</span>
</span></span><span class="line"><span class="cl"><span class="n">Nov</span> <span class="mi">28</span> <span class="mi">11</span><span class="p">:</span><span class="mi">22</span><span class="p">:</span><span class="mi">16</span> <span class="n">alipay</span><span class="o">-</span><span class="n">srm011233163091</span><span class="o">.</span><span class="n">et15</span> <span class="n">rasdaemon</span><span class="p">[</span><span class="mi">181014</span><span class="p">]:</span> <span class="n">rasdaemon</span><span class="p">:</span> <span class="n">Recording</span> <span class="n">extlog_event</span> <span class="n">events</span>
</span></span><span class="line"><span class="cl"><span class="n">Nov</span> <span class="mi">28</span> <span class="mi">11</span><span class="p">:</span><span class="mi">22</span><span class="p">:</span><span class="mi">16</span> <span class="n">alipay</span><span class="o">-</span><span class="n">srm011233163091</span><span class="o">.</span><span class="n">et15</span> <span class="n">rasdaemon</span><span class="p">[</span><span class="mi">181014</span><span class="p">]:</span> <span class="n">rasdaemon</span><span class="p">:</span> <span class="n">Recording</span> <span class="n">mce_record</span> <span class="n">events</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># ras-mc-ctl ÊúçÂä°Áä∂ÊÄÅ</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="err">‚óè</span> <span class="n">ras</span><span class="o">-</span><span class="n">mc</span><span class="o">-</span><span class="n">ctl</span><span class="o">.</span><span class="n">service</span> <span class="o">-</span> <span class="n">Initialize</span> <span class="n">EDAC</span> <span class="n">v3</span><span class="o">.</span><span class="mf">0.0</span> <span class="n">Drivers</span> <span class="n">For</span> <span class="n">Machine</span> <span class="n">Hardware</span>
</span></span><span class="line"><span class="cl">     <span class="n">Loaded</span><span class="p">:</span> <span class="n">loaded</span> <span class="p">(</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">systemd</span><span class="o">/</span><span class="n">system</span><span class="o">/</span><span class="n">ras</span><span class="o">-</span><span class="n">mc</span><span class="o">-</span><span class="n">ctl</span><span class="o">.</span><span class="n">service</span><span class="p">;</span> <span class="n">enabled</span><span class="p">;</span> <span class="n">vendor</span> <span class="n">preset</span><span class="p">:</span> <span class="n">enabled</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">     <span class="n">Active</span><span class="p">:</span> <span class="n">active</span> <span class="p">(</span><span class="n">exited</span><span class="p">)</span> <span class="n">since</span> <span class="n">Tue</span> <span class="mi">2023</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">28</span> <span class="mi">11</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mi">22</span> <span class="n">CST</span><span class="p">;</span> <span class="mi">9</span><span class="nb">min</span> <span class="n">ago</span>
</span></span><span class="line"><span class="cl">   <span class="n">Main</span> <span class="n">PID</span><span class="p">:</span> <span class="mi">2772415</span> <span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">exited</span><span class="p">,</span> <span class="n">status</span><span class="o">=</span><span class="mi">0</span><span class="o">/</span><span class="n">SUCCESS</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">CPU</span><span class="p">:</span> <span class="mi">53</span><span class="n">ms</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Nov</span> <span class="mi">28</span> <span class="mi">11</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mi">22</span> <span class="n">zcloud</span><span class="o">.</span><span class="n">staging</span><span class="o">.</span><span class="n">huatai</span><span class="o">.</span><span class="n">me</span> <span class="n">systemd</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="n">Starting</span> <span class="n">Initialize</span> <span class="n">EDAC</span> <span class="n">v3</span><span class="o">.</span><span class="mf">0.0</span> <span class="n">Drivers</span> <span class="n">For</span> <span class="n">Machine</span> <span class="n">Hardware</span><span class="o">...</span>
</span></span><span class="line"><span class="cl"><span class="n">Nov</span> <span class="mi">28</span> <span class="mi">11</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mi">22</span> <span class="n">zcloud</span><span class="o">.</span><span class="n">staging</span><span class="o">.</span><span class="n">huatai</span><span class="o">.</span><span class="n">me</span> <span class="n">ras</span><span class="o">-</span><span class="n">mc</span><span class="o">-</span><span class="n">ctl</span><span class="p">[</span><span class="mi">2772415</span><span class="p">]:</span> <span class="n">ras</span><span class="o">-</span><span class="n">mc</span><span class="o">-</span><span class="n">ctl</span><span class="p">:</span> <span class="n">Error</span><span class="p">:</span> <span class="n">No</span> <span class="n">dimm</span> <span class="n">labels</span> <span class="k">for</span> <span class="n">HP</span> <span class="n">model</span> <span class="n">ProLiant</span> <span class="n">DL360</span> <span class="n">Gen9</span>
</span></span><span class="line"><span class="cl"><span class="n">Nov</span> <span class="mi">28</span> <span class="mi">11</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mi">22</span> <span class="n">zcloud</span><span class="o">.</span><span class="n">staging</span><span class="o">.</span><span class="n">huatai</span><span class="o">.</span><span class="n">me</span> <span class="n">systemd</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="n">Finished</span> <span class="n">Initialize</span> <span class="n">EDAC</span> <span class="n">v3</span><span class="o">.</span><span class="mf">0.0</span> <span class="n">Drivers</span> <span class="n">For</span> <span class="n">Machine</span> <span class="n">Hardware</span><span class="o">.</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ËøôÈáåÊúâ‰∏Ä‰∏™ÈîôËØØÊèêÁ§∫: <code>ras-mc-ctl: Error: No dimm labels for XXXX</code> ÔºåÂÆûÈôÖ‰∏äÂú®ÂêÑÁßçÊúçÂä°Âô®‰∏äÂàùÂßãÊó∂ÈÉΩËÉΩÁúãÂà∞ÔºåÈúÄË¶ÅËøõ‰∏ÄÊ≠•ÈÖçÁΩÆ„ÄÇ</p>
<p><strong>4„ÄÅÊ£ÄÊü•EDAC‰ø°ÊÅØ</strong>ÔºàÂ¶ÇÊûú‰ΩøÁî®ECCÂÜÖÂ≠òÔºâÔºö ÂèØ‰ª•‰ΩøÁî®<code>ras-mc-ctl</code>Â∑•ÂÖ∑ÔºàÈÄöÂ∏∏ÂåÖÂê´Âú®<code>rasdaemon</code>ÂåÖ‰∏≠ÔºâÊù•Ê£ÄÊü•ËØ¶ÁªÜÁöÑEDAC‰ø°ÊÅØÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo ras-mc-ctl --status
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%A4%A7%E4%BD%9C%E4%B8%9A%E5%86%85%E5%AD%98%E6%95%85%E9%9A%9C%E6%A3%80%E6%B5%8B%E5%92%8C%E5%A4%84%E7%90%86/assets/image-20240628211435330.png"
	width="516"
	height="72"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%A4%A7%E4%BD%9C%E4%B8%9A%E5%86%85%E5%AD%98%E6%95%85%E9%9A%9C%E6%A3%80%E6%B5%8B%E5%92%8C%E5%A4%84%E7%90%86/assets/image-20240628211435330_hu16192268445492714901.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%A4%A7%E4%BD%9C%E4%B8%9A%E5%86%85%E5%AD%98%E6%95%85%E9%9A%9C%E6%A3%80%E6%B5%8B%E5%92%8C%E5%A4%84%E7%90%86/assets/image-20240628211435330_hu17610843283354955925.png 1024w"
	loading="lazy"
	
		alt="Ê£ÄÊü•EDAC‰ø°ÊÅØ"
	
	
		class="gallery-image" 
		data-flex-grow="716"
		data-flex-basis="1720px"
	
></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">ras-mc-ctl --layout
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%A4%A7%E4%BD%9C%E4%B8%9A%E5%86%85%E5%AD%98%E6%95%85%E9%9A%9C%E6%A3%80%E6%B5%8B%E5%92%8C%E5%A4%84%E7%90%86/assets/image-20240628211822096.png"
	width="594"
	height="67"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%A4%A7%E4%BD%9C%E4%B8%9A%E5%86%85%E5%AD%98%E6%95%85%E9%9A%9C%E6%A3%80%E6%B5%8B%E5%92%8C%E5%A4%84%E7%90%86/assets/image-20240628211822096_hu15194108421477439709.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%A4%A7%E4%BD%9C%E4%B8%9A%E5%86%85%E5%AD%98%E6%95%85%E9%9A%9C%E6%A3%80%E6%B5%8B%E5%92%8C%E5%A4%84%E7%90%86/assets/image-20240628211822096_hu15958066638407402994.png 1024w"
	loading="lazy"
	
		alt="Ê£ÄÊü•EDAC‰ø°ÊÅØ"
	
	
		class="gallery-image" 
		data-flex-grow="886"
		data-flex-basis="2127px"
	
></p>
<p>5„ÄÅ<strong>‰ΩøÁî®rasdaemon</strong></p>
<ul>
<li>Âú®ÂêéÂè∞ËøêË°å<code>rasdaemon</code>ÔºåÁõ¥Êé•ËæìÂÖ•rasdaemonÂ∞±Ë°å„ÄÇ</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">rasdaemon
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>Âú®ÂâçÂè∞ËøêË°å<code>rasdaemon</code>ÔºåÊ≠§Êó∂ËæìÂá∫ÊòæÁ§∫ rasdaemon ÂàùÂßãÂåñÂπ∂ÁõëÂê¨‰∫ã‰ª∂ÔºåÊ≠§Êó∂Â∞±ÂèØ‰ª•Á≠âÂæÖÂá∫Áé∞ÁöÑÁ°¨‰ª∂ÂºÇÂ∏∏„ÄÇ</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">rasdaemon -f
</span></span></code></pre></td></tr></table>
</div>
</div><p>Â¶ÇÊûúÂ∏åÊúõÂêåÊó∂Â∞ÜÈîôËØØËÆ∞ÂΩïÂà∞Êï∞ÊçÆÂ∫ì(ÁºñËØëÊó∂‰ΩøÁî®‰∫ÜÂèÇÊï∞ <code>--enable-sqlite3</code>)ÔºåÂàôÂèØ‰ª•Â¢ûÂä†‰∏Ä‰∏™ <code>-r</code> ÂèÇÊï∞:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">rasdaemon -f -r
</span></span></code></pre></td></tr></table>
</div>
</div><p>ÈÖçÁΩÆ DIMM labels</p>
<p>ras-mc-ctl ÊòØRASÂÜÖÂ≠òÊéßÂà∂Âô®ÁÆ°ÁêÜÂ∑•ÂÖ∑ÔºåÁî®‰∫éÊâßË°å‰∏Ä‰∫õÈíàÂØπEDAC(Error Detection and Correction)È©±Âä®ÁöÑRASÁÆ°ÁêÜ‰ªªÂä°„ÄÇ</p>
<ul>
<li>
<p><code>ras-mc-ctl</code> ÂèØ‰ª•Êü•ËØ¢Ê£ÄÊµãÂà∞ÁöÑÈîôËØØÔºå‰æãÂ¶Ç <code>--error-count</code> ÂèØ‰ª•Ëé∑Âèñ‰∏ªÊú∫ÈîôËØØËÆ°Êï∞:</p>
</li>
<li>
<p><code>ras-mc-ctl</code> ‰ΩøÁî® <code>--error-count</code> Ëé∑ÂèñÈîôËØØËÆ°Êï∞</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># ras-mc-ctl --error-count</span>
</span></span><span class="line"><span class="cl">Label                 CE      UE
</span></span><span class="line"><span class="cl">mc#0csrow#2channel#0  <span class="m">0</span>   <span class="m">0</span>
</span></span><span class="line"><span class="cl">mc#0csrow#2channel#1  <span class="m">0</span>   <span class="m">0</span>
</span></span><span class="line"><span class="cl">mc#0csrow#3channel#1  <span class="m">0</span>   <span class="m">0</span>
</span></span><span class="line"><span class="cl">mc#0csrow#3channel#0  <span class="m">0</span>   <span class="m">0</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>‰ΩøÁî® <code>ras-mc-ctl</code> ÊâìÂç∞Âá∫Ë¢´ËÆ∞ÂΩïÁöÑÊâÄÊúâÈîôËØØ„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># ras-mc-ctl --summary</span>
</span></span><span class="line"><span class="cl">Memory controller events summary:
</span></span><span class="line"><span class="cl">  Corrected on DIMM Label<span class="o">(</span>s<span class="o">)</span>: <span class="s1">&#39;DIMM_B1&#39;</span> location: 0:2:0:-1 errors: <span class="m">5</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">PCIe AER events summary:
</span></span><span class="line"><span class="cl">  <span class="m">1</span> Uncorrected <span class="o">(</span>Non-Fatal<span class="o">)</span> errors: BIT21
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">No Extlog errors.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">No devlink errors.
</span></span><span class="line"><span class="cl">Disk errors summary:
</span></span><span class="line"><span class="cl">  0:0 has <span class="m">6646</span> errors
</span></span><span class="line"><span class="cl">No MCE errors.
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
<h3 id="Âà©Áî®rasdaemonÂÆûÁé∞ÈîôËØØÂÜÖÂ≠òÁöÑËΩØ‰∏ãÁ∫ø">Âà©Áî®RasdaemonÂÆûÁé∞ÈîôËØØÂÜÖÂ≠òÁöÑËΩØ‰∏ãÁ∫ø
</h3><p><strong>Áî±‰∫éÁº∫‰πèeccÂÜÖÂ≠òÔºåÂØºËá¥edacÊ®°ÂùóÊó†Ê≥ïÊ≠£Â∏∏ËøêË°åÔºåÊâÄ‰ª•rasdaemon‰πüÊó†Ê≥ïÊ≠£Â∏∏ÊçïËé∑Âà∞ÈîôËØØÔºåÂõ†Ê≠§Êàë‰ª¨Âè™ÂÅö‰∫ÜÂØπÊåáÂÆöÈ°µÈù¢ÁöÑËΩØ‰∏ãÁ∫ø„ÄÇ</strong></p>
<ol>
<li>
<p><strong>‰ΩøÁî® Rasdaemon ÁõëÊéßÂíåÂ§ÑÁêÜÈîôËØØ</strong></p>
<p>Rasdaemon ‰ºöËá™Âä®ÁõëÊéßÂíåËÆ∞ÂΩïÂÜÖÂ≠òÈîôËØØÔºåÂπ∂Âú®Ê£ÄÊµãÂà∞ÂÜÖÂ≠òÈîôËØØÊó∂ÔºåÂ∞ùËØïÂØπÁõ∏ÂÖ≥È°µÈù¢ËøõË°åËΩØ‰∏ãÁ∫ø„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">sudo ras-mc-ctl --errors | grep &lt;error_address&gt;
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p><strong>Ê£ÄÊü•Êó•Âøó</strong></p>
<p>‰Ω†ÂèØ‰ª•Êü•Áúã Rasdaemon ÁîüÊàêÁöÑÊó•ÂøóÔºå‰ª•Á°ÆËÆ§ÂÜÖÂ≠òÈîôËØØÂíåËΩØ‰∏ãÁ∫ø‰∫ã‰ª∂Ôºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo ras-mc-ctl --summary
</span></span><span class="line"><span class="cl">sudo journalctl -u rasdaemon
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p><strong>ÁºñÂÜôÂÜÖÊ†∏Ê®°ÂùóÂØπÈ°µÈù¢ËøõË°åËΩØ‰∏ãÁ∫ø</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;linux/module.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;linux/kernel.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;linux/init.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;linux/mm.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;linux/mmzone.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;linux/pfn.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="k">static</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">target_pfn</span> <span class="o">=</span> <span class="mh">0x12345</span><span class="p">;</span> <span class="c1">// ÊõøÊç¢‰∏∫‰Ω†Ë¶Å‰∏ãÁ∫øÁöÑÈ°µÊ°ÜÂè∑
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="k">static</span> <span class="kt">int</span> <span class="n">__init</span> <span class="nf">soft_offline_page_init</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">struct</span> <span class="n">page</span> <span class="o">*</span><span class="n">page</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">flags</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">ret</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nf">pr_info</span><span class="p">(</span><span class="s">&#34;Soft offline page at PFN %lu</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">target_pfn</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">page</span> <span class="o">=</span> <span class="nf">pfn_to_page</span><span class="p">(</span><span class="n">target_pfn</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nf">PageReserved</span><span class="p">(</span><span class="n">page</span><span class="p">))</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// Ëé∑ÂèñÊâÄÂú®ÁöÑÂÜÖÂ≠òÂå∫ÂüüÔºàzoneÔºâ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">struct</span> <span class="n">zone</span> <span class="o">*</span><span class="n">zone</span> <span class="o">=</span> <span class="nf">page_zone</span><span class="p">(</span><span class="n">page</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="nf">spin_lock_irqsave</span><span class="p">(</span><span class="o">&amp;</span><span class="n">zone</span><span class="o">-&gt;</span><span class="n">lock</span><span class="p">,</span> <span class="n">flags</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="nf">SetPageReserved</span><span class="p">(</span><span class="n">page</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="nf">spin_unlock_irqrestore</span><span class="p">(</span><span class="o">&amp;</span><span class="n">zone</span><span class="o">-&gt;</span><span class="n">lock</span><span class="p">,</span> <span class="n">flags</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="nf">pr_info</span><span class="p">(</span><span class="s">&#34;Page at PFN %lu successfully offlined</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">target_pfn</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nf">pr_warn</span><span class="p">(</span><span class="s">&#34;Page at PFN %lu is already reserved, cannot offline</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">target_pfn</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">ret</span> <span class="o">=</span> <span class="o">-</span><span class="n">EBUSY</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">ret</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">static</span> <span class="kt">void</span> <span class="n">__exit</span> <span class="nf">soft_offline_page_exit</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nf">pr_info</span><span class="p">(</span><span class="s">&#34;Module unloaded</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nf">module_init</span><span class="p">(</span><span class="n">soft_offline_page_init</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nf">module_exit</span><span class="p">(</span><span class="n">soft_offline_page_exit</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nf">MODULE_LICENSE</span><span class="p">(</span><span class="s">&#34;GPL&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nf">MODULE_AUTHOR</span><span class="p">(</span><span class="s">&#34;Lijun&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nf">MODULE_DESCRIPTION</span><span class="p">(</span><span class="s">&#34;Soft offline specified page frame number&#34;</span><span class="p">);</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ol>
<h2 id="ÈóÆÈ¢òÊ±áÊÄª">ÈóÆÈ¢òÊ±áÊÄªÔºö
</h2><p>1„ÄÅapt install Êä•Èîô</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="n">hacker</span><span class="err">@</span><span class="n">ubuntu</span><span class="p">:</span><span class="o">~/</span><span class="n">Desktop</span><span class="o">$</span> <span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">edac</span><span class="o">-</span><span class="n">utils</span>
</span></span><span class="line"><span class="cl"><span class="n">E</span><span class="p">:</span> <span class="n">Could</span> <span class="ow">not</span> <span class="n">get</span> <span class="n">lock</span> <span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">dpkg</span><span class="o">/</span><span class="n">lock</span><span class="o">-</span><span class="n">frontend</span><span class="o">.</span> <span class="n">It</span> <span class="n">is</span> <span class="n">held</span> <span class="n">by</span> <span class="n">process</span> <span class="mi">4700</span> <span class="p">(</span><span class="n">unattended</span><span class="o">-</span><span class="n">upgr</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">N</span><span class="p">:</span> <span class="n">Be</span> <span class="n">aware</span> <span class="n">that</span> <span class="n">removing</span> <span class="n">the</span> <span class="n">lock</span> <span class="n">file</span> <span class="n">is</span> <span class="ow">not</span> <span class="n">a</span> <span class="n">solution</span> <span class="ow">and</span> <span class="n">may</span> <span class="k">break</span> <span class="n">your</span> <span class="n">system</span><span class="o">.</span>
</span></span><span class="line"><span class="cl"><span class="n">E</span><span class="p">:</span> <span class="n">Unable</span> <span class="n">to</span> <span class="n">acquire</span> <span class="n">the</span> <span class="n">dpkg</span> <span class="n">frontend</span> <span class="n">lock</span> <span class="p">(</span><span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">dpkg</span><span class="o">/</span><span class="n">lock</span><span class="o">-</span><span class="n">frontend</span><span class="p">),</span> <span class="n">is</span> <span class="n">another</span> <span class="n">process</span> <span class="n">using</span> <span class="n">it</span><span class="err">?</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Ëß£ÂÜ≥ÊñπÊ≥ïÔºöÂà†Èô§ÈîÅÂÆöÊñá‰ª∂</p>
<p>Âú®Êüê‰∫õÊÉÖÂÜµ‰∏ãÔºåÊ†πÊú¨ÂéüÂõ†ÂèØËÉΩÊòØÈîÅÊñá‰ª∂„ÄÇÈîÅÊñá‰ª∂ÈòªÊ≠¢‰∏§‰∏™ÊàñÂ§ö‰∏™ËøõÁ®ãËÆøÈóÆÁõ∏ÂêåÁöÑÊï∞ÊçÆ„ÄÇÂΩìÊÇ®ËøêË°å apt Êàñ apt-get ÂëΩ‰ª§Êó∂ÔºåÈÄöÂ∏∏‰ºöÂàõÂª∫‰∏Ä‰∏™ÈîÅÊñá‰ª∂„ÄÇ‰ΩÜÊòØÔºåÂ¶ÇÊûúÊúÄÊñ∞ÁöÑ apt ÂëΩ‰ª§Ê≤°ÊúâÊàêÂäüÊâßË°å(Âç≥Á™ÅÁÑ∂ÁªàÊ≠¢)ÔºåÈîÅÊñá‰ª∂Â∞ÜÁªßÁª≠Â≠òÂú®Âπ∂ÈòªÊ≠¢‰ªª‰ΩïÂêéÁª≠ÁöÑ apt Êàñ apt-get ÂÆû‰æã„ÄÇ</p>
<p>Ëß£ÂÜ≥ ‚ÄúCould not get lock /var/lib/apt/lists/lock‚ÄùÈîôËØØ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-awk" data-lang="awk"><span class="line"><span class="cl"><span class="o">$</span> <span class="nx">sudo</span> <span class="nx">rm</span> <span class="o">/</span><span class="nx">var</span><span class="o">/</span><span class="nx">lib</span><span class="o">/</span><span class="nx">apt</span><span class="o">/</span><span class="nx">lists</span><span class="o">/</span><span class="nx">lock</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Ëß£ÂÜ≥ ‚ÄúCould not get lock /var/lib/dpkg/lock‚ÄùÈîôËØØ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-awk" data-lang="awk"><span class="line"><span class="cl"><span class="o">$</span> <span class="nx">sudo</span> <span class="nx">rm</span> <span class="o">/</span><span class="nx">var</span><span class="o">/</span><span class="nx">lib</span><span class="o">/</span><span class="nx">dpkg</span><span class="o">/</span><span class="nx">lock</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ÂÖ∂‰ªñÊó∂ÂÄôÔºåÊÇ®ÂèØËÉΩ‰ºöÈÅáÂà∞ ‚Äú/var/lib/dpkg/lock-frontend error‚ÄùÁöÑÈîôËØØ„ÄÇËøôÊÑèÂë≥ÁùÄÂΩìÂâçÊ≠£Âú®ËøêË°å‰ΩøÁî® APT / DPKG ÁöÑÂõæÂΩ¢Â∫îÁî®Á®ãÂ∫èÔºåËøôÂèØËÉΩÊòØ‰ΩøÁî® Gdebi Êàñ Synaptic ÂåÖÁÆ°ÁêÜÂô®ÈÄ†ÊàêÁöÑ„ÄÇ</p>
<p>Âç≥Êó∂ÁöÑË°•ÊïëÊé™ÊñΩÊòØÈÄÄÂá∫ÊàñÂÖ≥Èó≠Á®ãÂ∫èÔºåÂπ∂ÂÜçÊ¨°Â∞ùËØï„ÄÇÂ¶ÇÊûúÊ≤°ÊúâÊïàÊûúÔºåÂèØÊòØÂ∞ùËØïÂà†Èô§ /var/lib/dpkg/lock-frontend Êñá‰ª∂„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-awk" data-lang="awk"><span class="line"><span class="cl"><span class="o">$</span> <span class="nx">sudo</span> <span class="nx">rm</span> <span class="o">/</span><span class="nx">var</span><span class="o">/</span><span class="nx">lib</span><span class="o">/</span><span class="nx">dpkg</span><span class="o">/</span><span class="nx">lock</span><span class="o">-</span><span class="nx">frontend</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Âà†Èô§ lock-frontend Êñá‰ª∂ÂèØËÉΩ‰ºöÂÜçÊ¨°ÂØºËá¥‚ÄúCould not get lock /var/lib/dpkg/lock‚ÄùÈîôËØØÔºåÂõ†Ê≠§ÔºåÊÇ®Â∞Ü‰∏çÂæó‰∏çÁªßÁª≠Âà†Èô§Áõ∏ÂÖ≥ÈîÅÂÆöÊñá‰ª∂„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-awk" data-lang="awk"><span class="line"><span class="cl"><span class="o">$</span> <span class="nx">sudo</span> <span class="nx">rm</span> <span class="o">/</span><span class="nx">var</span><span class="o">/</span><span class="nx">lib</span><span class="o">/</span><span class="nx">dpkg</span><span class="o">/</span><span class="nx">lock</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Â¶ÇÊûúÊÇ®Á¢∞Â∑ß‰ºöÂá∫Áé∞ÊúâÂÖ≥ apt-cache lock ÁöÑÈîôËØØÔºå‰æãÂ¶Ç /var/cache/apt/archives/lockÔºåËØ∑Âà†Èô§Áõ∏ÂÖ≥ÈîÅÂÆöÊñá‰ª∂„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-awk" data-lang="awk"><span class="line"><span class="cl"><span class="o">$</span> <span class="nx">sudo</span> <span class="nx">rm</span> <span class="o">/</span><span class="nx">var</span><span class="o">/</span><span class="nx">cache</span><span class="o">/</span><span class="nx">apt</span><span class="o">/</span><span class="nx">archives</span><span class="o">/</span><span class="nx">lock</span>
</span></span><span class="line"><span class="cl"><span class="o">$</span> <span class="nx">sudo</span> <span class="nx">rm</span> <span class="o">/</span><span class="nx">var</span><span class="o">/</span><span class="nx">lib</span><span class="o">/</span><span class="nx">dpkg</span><span class="o">/</span><span class="nx">lock</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>2„ÄÅedac-utilÊó†Ê≥ï‰ΩøÁî®</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">hacker@ubuntu:~/Desktop$ edac-util -v
</span></span><span class="line"><span class="cl">edac-util: Error: No memory controller data found.
</span></span></code></pre></td></tr></table>
</div>
</div><p>ÂéüÂõ†ÂèØËÉΩÊòØÊàëÁöÑÁîµËÑë‰∏çÊîØÊåÅecc()Ôºå‰∏ÄËà¨Êù•ËØ¥ÂÜÖÂ≠òÊù°ÁöÑDatawidthÊØîTotalwidthÂ∞èÊâçÊîØÊåÅecc„ÄÇÂú®Windows‰∏ãËøêË°å‰ª•‰∏ãÂëΩ‰ª§ÂèØÊü•ÁúãÊòØÂê¶ÊîØÊåÅeccÔºåLinux‰∏ãÂèØÁî®<code>sudo dmidecode -t memory</code>ÂëΩ‰ª§Êü•Áúã</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1">#Windows‰∏ã</span>
</span></span><span class="line"><span class="cl">C:<span class="se">\U</span>sers<span class="se">\L</span>&gt;wmic memorychip get datawidth,totalwidth
</span></span><span class="line"><span class="cl">DataWidth  TotalWidth
</span></span><span class="line"><span class="cl"><span class="m">64</span>         <span class="m">64</span>
</span></span><span class="line"><span class="cl"><span class="c1">#Linux‰∏ã</span>
</span></span><span class="line"><span class="cl">hacker@ubuntu:~/Desktop$ sudo dmidecode -t memory
</span></span><span class="line"><span class="cl"><span class="c1"># dmidecode 3.2</span>
</span></span><span class="line"><span class="cl">Getting SMBIOS data from sysfs.
</span></span><span class="line"><span class="cl">SMBIOS 2.7 present.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Handle 0x0084, DMI <span class="nb">type</span> 5, <span class="m">46</span> bytes
</span></span><span class="line"><span class="cl">Memory Controller Information
</span></span><span class="line"><span class="cl">	Error Detecting Method: None
</span></span><span class="line"><span class="cl">	Error Correcting Capabilities:
</span></span><span class="line"><span class="cl">		None
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="Áõ∏ÂÖ≥Áü•ËØÜ">Áõ∏ÂÖ≥Áü•ËØÜ
</h2><h3 id="error-correction-code-ecc"><strong>Error correction code (ECC)</strong>
</h3><p>Á∫†ÈîôÁ†Å ÔºàECCÔºâ ÊòØ‰∏ÄÁßçÁî®‰∫éÊ£ÄÊµãÂíåÁ∫†Ê≠£Áî±‰∫éÁéØÂ¢ÉÂπ≤Êâ∞ÂíåÁâ©ÁêÜÁº∫Èô∑ÂØºËá¥ÁöÑÂÜÖÂ≠òÊï∞ÊçÆÈîôËØØÁöÑÊú∫Âà∂„ÄÇECC ÂÜÖÂ≠òÁî®‰∫éÊó†Ê≥ïÂÆπÂøçÂõ†Êï∞ÊçÆÊçüÂùèËÄåÂØºËá¥ÊïÖÈöúÁöÑÈ´òÂèØÈù†ÊÄßÂ∫îÁî®Ôºå‰æãÂ¶ÇÂåªÁñóËÆæÂ§á„ÄÅÈ£ûÊú∫ÊéßÂà∂Á≥ªÁªüÊàñÈì∂Ë°åÊï∞ÊçÆÂ∫ìÊúçÂä°Âô®„ÄÇ</p>
<p>Â§ßÂ§öÊï∞ÂÜÖÂ≠òÈîôËØØÊòØÁî±ËΩØÈîôËØØÔºà‰æãÂ¶ÇÂÆáÂÆôÂ∞ÑÁ∫ø„ÄÅŒ± Â∞ÑÁ∫ø„ÄÅÁîµÁ£ÅÂπ≤Êâ∞ÔºâÂºïËµ∑ÁöÑÂçï‰∏™Ôºà1 ‰ΩçÔºâÈîôËØØÔºå‰ΩÜÊúâ‰∫õÂèØËÉΩÊòØÁî±‰∫éÁ°¨‰ª∂ÊïÖÈöúÔºà‰æãÂ¶ÇË°åÈî§ÊïÖÈöúÔºâÂºïËµ∑ÁöÑ„ÄÇÂØπ‰∫éÂú®ËæÉÈ´òÈ´òÂ∫¶ËøêË°åÁöÑÁ≥ªÁªüÔºà‰æãÂ¶ÇÂïÜÁî®È£ûÊú∫ÔºâËÄåË®ÄÔºåËΩØÈîôËØØÊõ¥‰∏∫ÊôÆÈÅç„ÄÇÊçÆËØ¥ÔºåÂú®Â§ßÁ∫¶10ÂÖ¨ÈáåÁöÑÈ´òÂ∫¶ÔºåËØ±ÂØºÂÆáÂÆôÂ∞ÑÁ∫øÁöÑÊØîÁâπËØØÂ∑ÆË¶ÅÈ´òÂá∫300ÂÄç„ÄÇ</p>
<p>ËøôÁßçÂçï‰ΩçÈîôËØØÂèØ‰ª•ÈÄöËøáECCÂ≠òÂÇ®Âô®Á≥ªÁªüÊù•Á∫†Ê≠£„ÄÇÂ§ö‰ΩçÈîôËØØ‰πüÂèØ‰ª•Ë¢´Ê£ÄÊµãÂíå/ÊàñÁ∫†Ê≠£ÔºåËøôÂèñÂÜ≥‰∫éÈîôËØØÁ¨¶Âè∑ÁöÑÊï∞Èáè„ÄÇ</p>
<p>ÂÜÖÂ≠òÈîôËØØÁöÑÁóáÁä∂ÂåÖÊã¨Êï∞ÊçÆÊçüÂùè„ÄÅÁ≥ªÁªüÂ¥©Ê∫ÉÂíå/ÊàñÂÆâÂÖ®ÊºèÊ¥ûÔºå‰ΩøÈùûÁâπÊùÉ‰ª£Á†ÅËÉΩÂ§üËÆøÈóÆÂÜÖÊ†∏„ÄÇ‰ºóÊâÄÂë®Áü•ÔºåÂÜÖÂ≠òÈîôËØØÊòØÂØºËá¥Â§ßÂûãÊï∞ÊçÆ‰∏≠ÂøÉÊú∫Âô®Â¥©Ê∫ÉÁöÑÊúÄÂ∏∏ËßÅÁ°¨‰ª∂ÂéüÂõ†‰πã‰∏Ä„ÄÇ</p>
<h3 id="edacÂíårasdaemonÁöÑÂÖ≥Á≥ª">EDACÂíåRasdaemonÁöÑÂÖ≥Á≥ª
</h3><p>EDACÔºàError Detection and CorrectionÔºâÂíå <code>rasdaemon</code> Âú®ÂäüËÉΩ‰∏äÊúâÂØÜÂàáÁöÑÂÖ≥Á≥ªÔºå<code>rasdaemon</code> ÊòØ‰∏Ä‰∏™Áî®Êà∑Á©∫Èó¥ÁöÑÂ∑•ÂÖ∑ÔºåÁî®‰∫éÊî∂ÈõÜÂíåËÆ∞ÂΩïÁî±ÂÜÖÊ†∏ÁöÑEDACÂ≠êÁ≥ªÁªü‰ª•ÂèäÂÖ∂‰ªñÁ°¨‰ª∂ÈîôËØØÊ£ÄÊµãÂ≠êÁ≥ªÁªüÊä•ÂëäÁöÑÈîôËØØ„ÄÇ</p>
<p>ÂÖ∑‰ΩìÊù•ËØ¥Ôºö</p>
<ol>
<li><strong>EDAC Â≠êÁ≥ªÁªü</strong>ÔºöËøôÊòØLinuxÂÜÖÊ†∏‰∏≠ÁöÑ‰∏Ä‰∏™Ê®°ÂùóÔºå‰∏ìÈó®Áî®‰∫éÊ£ÄÊµãÂíåÊä•ÂëäECCÔºàError-Correcting CodeÔºâÂÜÖÂ≠òÈîôËØØ„ÄÇEDACËÉΩÂ§üÊçïÊçâÂíåËÆ∞ÂΩïÂÜÖÂ≠òÈîôËØØ‰ø°ÊÅØÔºåÂ¶ÇÂèØÁ∫†Ê≠£ÈîôËØØÔºàCEÔºåCorrectable ErrorsÔºâÂíå‰∏çÂèØÁ∫†Ê≠£ÈîôËØØÔºàUEÔºåUncorrectable ErrorsÔºâ„ÄÇ</li>
<li><strong>rasdaemon</strong>ÔºöËøôÊòØ‰∏Ä‰∏™Áî®Êà∑Á©∫Èó¥ÁöÑÂÆàÊä§ËøõÁ®ãÔºåÂà©Áî®ÂÜÖÊ†∏‰∏≠ÁöÑRASÔºàReliability, Availability, and ServiceabilityÔºâÂäüËÉΩÊù•Êî∂ÈõÜÂíåËÆ∞ÂΩïÁ°¨‰ª∂ÈîôËØØÔºåÂåÖÊã¨ÂÜÖÂ≠òÈîôËØØ„ÄÅCPUÈîôËØØ„ÄÅPCIeÈîôËØØÁ≠â„ÄÇ<code>rasdaemon</code> ÂèØ‰ª•‰ªéÂÜÖÊ†∏ÁöÑEDACÂ≠êÁ≥ªÁªüËé∑ÂèñÂÜÖÂ≠òÈîôËØØÊï∞ÊçÆÔºåÂπ∂Â∞ÜËøô‰∫õÊï∞ÊçÆËÆ∞ÂΩïÂà∞Á≥ªÁªüÊó•ÂøóÊàñÊï∞ÊçÆÂ∫ì‰∏≠Ôºå‰æø‰∫éËøõ‰∏ÄÊ≠•ÂàÜÊûêÂíåÁõëÊéß„ÄÇ</li>
</ol>
<p>‰ª•‰∏ãÊòØEDACÂíå<code>rasdaemon</code>ÁöÑÂ∑•‰ΩúÊµÅÁ®ãÔºö</p>
<ol>
<li><strong>Á°¨‰ª∂ÈîôËØØÊ£ÄÊµã</strong>ÔºöÂΩìECCÂÜÖÂ≠òÊ£ÄÊµãÂà∞ÈîôËØØÊó∂ÔºåEDACÂ≠êÁ≥ªÁªü‰ºöÊçïËé∑Ëøô‰∫õÈîôËØØÂπ∂ËÆ∞ÂΩï‰∏ãÊù•„ÄÇ</li>
<li><strong>ÈîôËØØ‰∏äÊä•</strong>ÔºöEDACÂ≠êÁ≥ªÁªüÂ∞ÜÈîôËØØ‰ø°ÊÅØ‰∏äÊä•ÁªôÂÜÖÊ†∏Êó•ÂøóÁ≥ªÁªü„ÄÇ</li>
<li><strong>ÈîôËØØÊî∂ÈõÜ</strong>Ôºö<code>rasdaemon</code> ‰Ωú‰∏∫Áî®Êà∑Á©∫Èó¥ÁöÑÂ∑•ÂÖ∑Ôºå‰ªéÂÜÖÊ†∏Êó•ÂøóÁ≥ªÁªü‰∏≠Êî∂ÈõÜËøô‰∫õÈîôËØØ‰ø°ÊÅØ„ÄÇ</li>
<li><strong>ÈîôËØØËÆ∞ÂΩïÂíåÊä•Âëä</strong>Ôºö<code>rasdaemon</code> Â∞ÜÊî∂ÈõÜÂà∞ÁöÑÈîôËØØ‰ø°ÊÅØËÆ∞ÂΩïÂà∞Á≥ªÁªüÊó•Âøó‰∏≠ÔºåÂπ∂‰∏îÂèØ‰ª•ÈÄâÊã©Â∞ÜËøô‰∫õ‰ø°ÊÅØÂ≠òÂÇ®Âú®Êï∞ÊçÆÂ∫ì‰∏≠ÊàñÈÄöËøáÂÖ∂‰ªñÊñπÂºèËøõË°åÊä•Âëä„ÄÇ</li>
</ol>
<h2 id="ÂèÇËÄÉËµÑÊñô">ÂèÇËÄÉËµÑÊñôÔºö
</h2><p><a class="link" href="https://cloud-atlas.readthedocs.io/zh-cn/latest/linux/server/hardware/edac.html"  target="_blank" rel="noopener"
    >EDAC ËØäÊñ≠Á≥ªÁªüÁ°¨‰ª∂ÊïÖÈöú ‚Äî Cloud Atlas beta ÊñáÊ°£ (cloud-atlas.readthedocs.io)</a></p>
<p><a class="link" href="https://www.cnblogs.com/vivotech/p/16516881.html"  target="_blank" rel="noopener"
    >ÊúçÂä°Âô®ÂÜÖÂ≠òÊïÖÈöúÈ¢ÑÊµãÂ±ÖÁÑ∂ÂèØ‰ª•ËøôÊ†∑ÂÅöÔºÅ - vivo‰∫íËÅîÁΩëÊäÄÊúØ - ÂçöÂÆ¢Âõ≠ (cnblogs.com)</a></p>
<p><a class="link" href="https://www.kernel.org/doc/html/v6.6/driver-api/edac.html"  target="_blank" rel="noopener"
    >Error Detection And Correction (EDAC) Devices ‚Äî The Linux Kernel documentation</a></p>
<p><a class="link" href="https://github.com/wangxiaoq/notes/blob/master/kernel/hwpoison.md"  target="_blank" rel="noopener"
    >notes/kernel/hwpoison.md at master ¬∑ wangxiaoq/notes (github.com)</a></p>
<p><a class="link" href="https://kernel-doc.readthedocs.io/zh-cn/latest/vm/hwpoison.html"  target="_blank" rel="noopener"
    >hwpoison ‚Äî The Linux Kernel v4.20.0 ÊñáÊ°£ (kernel-doc.readthedocs.io)</a></p>
<p><a class="link" href="https://www.kernel.org/doc/html/next/translations/zh_CN/mm/hwpoison.html"  target="_blank" rel="noopener"
    >hwpoison ‚Äî The Linux Kernel documentation</a></p>
<p><a class="link" href="https://blog.ioncomputer.com/2019/05/06/linux-edac-modules-on-server-systems/"  target="_blank" rel="noopener"
    >Linux EDAC modules on Server Systems - ION Server Blog (ioncomputer.com)</a></p>
<p><a class="link" href="https://www.memtest86.com/ecc.htm"  target="_blank" rel="noopener"
    >MemTest86 - ECC Technical Details</a></p>
<p><a class="link" href="https://github.com/mchehab/rasdaemon"  target="_blank" rel="noopener"
    >mchehab/rasdaemon)</a></p>

</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/tags/os/">Os</a>
        
    </section>


    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    <section class="article-lastmod">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



        <span>
            ÊúÄÂêéÊõ¥Êñ∞‰∫é 2024-12-15
        </span>
    </section></footer>


    
</article>

    

    

<aside class="related-content--wrapper">
    <h2 class="section-title">Áõ∏ÂÖ≥ÊñáÁ´†</h2>
    <div class="related-content">
        <div class="flex article-list--tile">
            
                
<article class="has-image">
    <a href="/p/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/">
        
        
            <div class="article-image">
                <img src="/p/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/1.43b3acfc881733913c3b1e6139873876_hu9146290118491386225.jpg" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post ËÆ°ÁÆóÊú∫‰ΩìÁ≥ªÁªìÊûÑËØæÁ®ãÁ¨îËÆ∞"
                        
                        data-hash="md5-Q7Os/IgXM5E8Ox5hOYc4dg==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">ËÆ°ÁÆóÊú∫‰ΩìÁ≥ªÁªìÊûÑËØæÁ®ãÁ¨îËÆ∞</h2>
        </div>
    </a>
</article>

            
        </div>
    </div>
</aside>

     
    
        
    <link rel="stylesheet" href="https://unpkg.com/@waline/client@v3/dist/waline.css" />
<div id="waline" class="waline-container"></div>
<style>
    .waline-container {
        background-color: var(--card-background);
        border-radius: var(--card-border-radius);
        box-shadow: var(--shadow-l1);
        padding: var(--card-padding);
        --waline-font-size: var(--article-font-size);
    }

    .waline-container .wl-count {
        color: var(--card-text-color-main);
    }
</style><script type="module">
    import { init } from 'https://unpkg.com/@waline/client@v3/dist/waline.js';
    init({"dark":"html[data-scheme=\"dark\"]","el":"#waline","emoji":["https://cdn.jsdelivr.net/gh/walinejs/emojis@1.0.0/qq","https://cdn.jsdelivr.net/gh/walinejs/emojis@1.0.0/bilibili"],"lang":"zh-CN","locale":{"admin":"Admin","placeholder":"ÊÑüË∞¢ÊÇ®ÁöÑËØÑËÆ∫"},"pageview":true,"requiredMeta":["nick"],"serverURL":"https://waline.chenyuan1125.top","visitor":true});
</script>

    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2020 - 
        
        2024 Lee
    </section>
    
    <section class="powerby">
        ‰ΩøÁî® <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> ÊûÑÂª∫ <br />
        ‰∏ªÈ¢ò <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.27.0">Stack</a></b> Áî± <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a> ËÆæËÆ°
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
